<skuidpage personalizationmode="server" showsidebar="false" showheader="false" theme="Classic"><models><model id="OrgParameter" limit="1" query="true" createrowifnonefound="false" sobject="genesis__Org_Parameters__c" doclone="" datasource="salesforce"><fields><field id="genesis__Use_Contact_as_Account__c"/><field id="RenderContact" uionly="true" displaytype="BOOLEAN" label="RenderContact" readonly="true" defaultValue="true"/><field id="RenderAccount" uionly="true" displaytype="BOOLEAN" label="RenderAccount" readonly="true" defaultValue="true"/></fields><conditions/><actions/></model><model id="AccountValue" query="true" createrowifnonefound="true" datasource="salesforce" sobject="Account" limit="1"><fields><field id="Name"/><field id="Id"/></fields><conditions><condition type="param" value="Accountid" field="Id" operator="=" enclosevalueinquotes="true" novaluebehavior="deactivate" model="PersonAccount"/></conditions><actions/></model><model id="CreateApplicationActionModel" limit="1" query="false" createrowifnonefound="true" sobject="genesis__Action__c" datasource="salesforce"><fields><field id="genesis__New_Borrower__c" overridemetadata="false" ogdisplaytype="BOOLEAN" displaytype="BOOLEAN"/><field id="genesis__Existing_Application__c"/></fields><conditions/><actions><action><actions><action type="updateRow" fieldmodel="CommonApplicationModel" field="genesis__Contact__c" enclosevalueinquotes="true" affectedrows="context"/><action type="custom" snippet="fetchContactData"/></actions><events><event>row.updated</event></events><fields><field>genesis__New_Borrower__c</field></fields></action><action><actions><action type="updateRow" fieldmodel="CommonApplicationModel" field="genesis__Account__c" enclosevalueinquotes="true" affectedrows="context"/><action type="custom" snippet="fetchAccountData"/></actions><events><event>row.updated</event></events><fields><field>genesis__Existing_Application__c</field></fields></action></actions></model><model id="GeneralLoanCLProduct" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="clcommon__CL_Product__c"><fields><field id="RecordTypeId"/><field id="Id"/><field id="clcommon__Product_Name__c"/><field id="clcommon__Asset_Class__c"/><field id="clcommon__Asset_Class__r.Name"/><field id="clcommon__Asset_Class__r.CreatedDate"/></fields><conditions><condition type="fieldvalue" value="Purchase" enclosevalueinquotes="true" field="clcommon__Product_Name__c"/><condition type="fieldvalue" value="Commercial Secured" enclosevalueinquotes="true" field="clcommon__Asset_Class__r.Name"/></conditions><actions/></model><model id="CommonApplicationModel" limit="1" query="false" createrowifnonefound="false" sobject="genesis__Applications__c" datasource="salesforce"><fields><field id="Id"/><field id="Name"/><field id="RecordType.Name"/><field id="RecordTypeId"/><field id="genesis__CL_Product__c"/><field id="genesis__CL_Product__r.Name"/><field id="genesis__Account__c"/><field id="genesis__Contact__c"/><field id="genesis__Asset_Class__c"/><field id="genesis__CL_Product__r.clcommon__Product_Name__c"/><field id="genesis__Parent_Application__c"/><field id="genesis__Parent_Application__r.Name"/><field id="genesis__Account__r.clcommon__Legal_Entity_Type__c"/><field id="genesis__Account__r.clcommon__Legal_Entity_Type__r.Name"/><field id="genesis__Account__r.Name"/><field id="genesis__Contact__r.Name"/><field id="OwnerId"/><field id="Owner.Name"/><field id="genesis__Product_Sub_Type__c"/><field id="genesis__Product_Type__c"/><field id="Legal_Entity__c"/><field id="Legal_Entity__r.Name"/><field id="genesis__Loan_Amount__c"/><field id="genesis__Term__c"/><field id="genesis__Interest_Rate__c"/><field id="genesis__Interest_Only_Period__c"/><field id="genesis__Payment_Frequency__c"/><field id="genesis__Days_Convention__c"/><field id="Document_Type__c"/><field id="genesis__Funding_in_Tranches__c"/><field id="genesis__Maturity_Date__c"/><field id="Purchase_Type__c"/><field id="genesis__Status__c"/><field id="genesis__Amortization_Term__c"/><field id="genesis__Disbursement_Date__c"/><field id="genesis__Expected_Start_Date__c"/><field id="Purchase__c"/><field id="Details_for_Interest_Only_Period__c"/><field id="Regulated_Unregulated__c"/><field id="Owner_Occupied_Investment_Product__c"/><field id="Search_for_duplicate_loan_application__c"/><field id="NewField" uionly="true" displaytype="TEXT"/><field id="genesis__Pricing_Method__c"/></fields><conditions><condition type="fieldvalue" value="" enclosevalueinquotes="true" field="Id" operator="=" state="filterableoff" inactive="true" name="AppId" model="PersonAccount"/></conditions><actions><action><actions><action type="setCondition" model="SelectedProduct" condition="Id" value="{{genesis__CL_Product__c}}"/><action type="requeryModel" model="SelectedProduct" behavior="standard"/><action type="updateRow" fieldmodel="SelectedProduct" field="RenderAccount" enclosevalueinquotes="false" value="true" affectedrows="context"/><action type="updateRow" fieldmodel="SelectedProduct" field="RenderContact" enclosevalueinquotes="false" value="true" affectedrows="context"/></actions><events><event>row.updated</event></events><fields><field>genesis__CL_Product__c</field></fields></action><action><actions><action type="custom" snippet="fetchContactData"/></actions><events><event>row.updated</event></events><fields><field>genesis__Contact__c</field></fields></action><action><actions><action type="custom" snippet="fetchAccountData"/></actions><events><event>row.updated</event></events><fields><field>genesis__Account__c</field></fields></action></actions></model><model id="ApplicationRecordType" limit="" query="false" createrowifnonefound="false" sobject="RecordType" datasource="salesforce"><fields><field id="Name"/><field id="Id"/><field id="DeveloperName"/></fields><conditions><condition type="fieldvalue" value="Loan" enclosevalueinquotes="true" field="Name"/><condition type="fieldvalue" value="genesis__Applications__c" field="SobjectType" operator="=" enclosevalueinquotes="true"/></conditions><actions/></model><model id="SelectedProduct" limit="1" query="false" createrowifnonefound="false" sobject="clcommon__CL_Product__c" datasource="salesforce"><fields><field id="clcommon__Asset_Class__c"/><field id="clcommon__Asset_Class__r.Name"/><field id="clcommon__Product_Name__c"/><field id="Id"/><field id="genesis__Allow_SubLimits__c"/><field id="genesis__Use_As_Package_Product__c"/><field id="Name"/><field id="clcommon__Class__c"/></fields><conditions><condition type="fieldvalue" value="" enclosevalueinquotes="true" field="Id" operator="=" state="filterableoff" inactive="true" name="Id" model="PersonAccount"/></conditions><actions><action><actions><action type="branch" whenfinished="continue" model="SelectedProduct"><formula>{{clcommon__Asset_Class__r.Name}}==='Consumer Secured' || {{clcommon__Asset_Class__r.Name}}==='Consumer Unsecured'</formula><iftrueactions><action type="activateCondition" model="CommonAccountModel" condition="clcommon__Legal_Entity_Type__c"/></iftrueactions></action></actions><events><event>models.loaded</event><event>row.created</event><event>row.updated</event></events><fields><field>clcommon__Asset_Class__c</field></fields></action><action><actions><action type="branch" whenfinished="continue" model="SelectedProduct"><iftrueactions><action type="activateCondition" model="CommonContactModel" condition="clcommon__Legal_Entity_Type__c"/></iftrueactions><formula>{{clcommon__Asset_Class__r.Name}}==='Consumer Secured' || {{clcommon__Asset_Class__r.Name}}==='Consumer Unsecured'</formula></action></actions><events><event>models.loaded</event><event>row.created</event><event>row.updated</event></events><fields><field>clcommon__Asset_Class__c</field></fields></action></actions></model><model id="GetRecordTypeId" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="RecordType"><fields><field id="Name"/><field id="DeveloperName"/><field id="Id"/></fields><conditions><condition type="fieldvalue" value="genesis__Applications__c" enclosevalueinquotes="true" operator="=" field="SobjectType" model="PersonAccount"/></conditions><actions/></model><model id="CommonBusinessInforModel" limit="1" query="false" createrowifnonefound="true" sobject="genesis__Business_Information__c" datasource="salesforce"><fields><field id="genesis__NAICS_Code__c"/><field id="genesis__NAICS_Description__c"/><field id="genesis__Business_Legal_Name__c"/><field id="genesis__DBA_Name__c"/><field id="genesis__Tax_ID__c"/><field id="genesis__Date_Business_Established__c"/><field id="genesis__Organization_ID_Number__c"/><field id="genesis__Non_Profit_Organization__c"/><field id="genesis__State_of_Incorporation__c"/><field id="genesis__Required_Number_of_Signers__c"/></fields><conditions><condition type="modelmerge" value="" field="Id" operator="=" state="filterableoff" inactive="true" name="BusinessInfoId" model="CommonAccountModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/></conditions><actions/></model><model id="LegalEntityModel" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="clcommon__Legal_Entity__c"><fields><field id="Id"/><field id="Name"/></fields><conditions><condition type="multiple" value="" field="Name" operator="in" enclosevalueinquotes="true"><values><value>Company</value></values></condition></conditions><actions/></model><model id="CommonContactModel" limit="1" query="false" createrowifnonefound="true" sobject="Contact" datasource="salesforce"><fields><field id="FirstName"/><field id="LastName"/><field id="Birthdate"/><field id="Email"/><field id="MobilePhone"/><field id="clcommon__Legal_Entity_Type__c" overridemetadata="true" ogdisplaytype="REFERENCE" displaytype="REFERENCE" datasource="salesforce" defaultvaluetype="fieldvalue"><batchfields/></field><field id="clcommon__Legal_Entity_Type__r.Name" overridemetadata="true" ogdisplaytype="STRING" displaytype="TEXT" defaultvaluetype="fieldvalue"/><field id="genesis__SSN__c"/><field id="OtherPhone"/><field id="MailingStreet"/><field id="OtherStreet"/><field id="MailingCity"/><field id="OtherCity"/><field id="MailingState"/><field id="OtherState"/><field id="MailingCountry"/><field id="OtherCountry"/><field id="MailingPostalCode"/><field id="OtherPostalCode"/><field id="clcommon__Military_Relationship__c"/><field id="clcommon__Service_Member_Military_Status__c"/><field id="clcommon__Employee__c"/><field id="clcommon__Insider_Relationship__c"/><field id="AccountId"/><field id="Account.Name"/><field id="clcommon__Country_of_Citizenship__c"/><field id="clcommon__Country_of_Residence__c"/><field id="clcommon__Current_City__c"/><field id="clcommon__Current_Country__c"/><field id="clcommon__Current_State__c"/><field id="clcommon__Current_Street__c"/><field id="clcommon__Current_Zip_Code__c"/><field id="clcommon__Is_Permanent_Resident__c"/><field id="clcommon__Marital_Status__c"/><field id="clcommon__Monthly_Residential_Payment_Amount__c"/><field id="clcommon__Months_at_current_address__c"/><field id="clcommon__Residential_Status__c"/><field id="clcommon__Mailing_Address_Same_as_Current_Address__c"/><field id="clcommon__Years_At_Current_Address__c"/><field id="ints__Social_Security_Number__c"/><field id="MiddleName"/></fields><conditions><condition type="fieldvalue" value="" enclosevalueinquotes="true" field="Id" operator="=" state="filterableoff" inactive="true" name="CommonContactId" model="PersonAccount"/><condition type="modelmerge" value="" field="clcommon__Legal_Entity_Type__c" fieldtargetobjects="clcommon__Legal_Entity__c" operator="=" model="LegalEntityModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate" state="filterableoff" inactive="true" name="clcommon__Legal_Entity_Type__c"/></conditions><actions><action><actions><action type="branch" whenfinished="stop" model="CommonContactModel" label="If Mailing address same as Current address"><formula>{{clcommon__Mailing_Address_Same_as_Current_Address__c}}</formula><iftrueactions><action type="updateRow" fieldmodel="CommonContactModel" affectedrows="context" field="MailingStreet" enclosevalueinquotes="true" value="{{clcommon__Current_Street__c}}"/><action type="updateRow" fieldmodel="CommonContactModel" affectedrows="context" field="MailingCity" enclosevalueinquotes="true" value="{{clcommon__Current_City__c}}"/><action type="updateRow" fieldmodel="CommonContactModel" affectedrows="context" field="MailingState" enclosevalueinquotes="true" value="{{clcommon__Current_State__c}}"/><action type="updateRow" fieldmodel="CommonContactModel" affectedrows="context" field="MailingPostalCode" enclosevalueinquotes="true" value="{{clcommon__Current_Zip_Code__c}}"/><action type="updateRow" fieldmodel="CommonContactModel" affectedrows="context" field="MailingCountry" enclosevalueinquotes="true" value="{{clcommon__Current_Country__c}}"/></iftrueactions></action></actions><events><event>row.updated</event></events><fields><field>clcommon__Mailing_Address_Same_as_Current_Address__c</field></fields></action></actions></model><model id="CommonAccountModel" limit="1" query="false" createrowifnonefound="false" sobject="Account" datasource="salesforce"><fields><field id="Name"/><field id="Phone"/><field id="Fax"/><field id="clcommon__Legal_Entity_Type__c"/><field id="clcommon__Legal_Entity_Type__r.Name"/><field id="BillingCity"/><field id="BillingCountry"/><field id="BillingStreet"/><field id="BillingState"/><field id="BillingPostalCode"/><field id="ShippingCity"/><field id="ShippingCountry"/><field id="ShippingState"/><field id="ShippingStreet"/><field id="ShippingPostalCode"/><field id="MasterRecordId"/><field id="MasterRecord.Name"/><field id="genesis__Business_Information__c"/><field id="genesis__Business_Information__r.Name"/></fields><conditions><condition type="fieldvalue" value="" field="Id" state="filterableoff" inactive="true" name="CommonAccId" operator="=" mergefield="genesis__Account__c" novaluebehavior="deactivate" enclosevalueinquotes="true" model="PersonAccount"/><condition type="modelmerge" value="" field="clcommon__Legal_Entity_Type__c" fieldtargetobjects="clcommon__Legal_Entity__c" operator="=" model="LegalEntityModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate" state="filterableoff" inactive="true" name="clcommon__Legal_Entity_Type__c"/></conditions><actions/></model><model limit="20" query="true" createrowifnonefound="true" datasource="Ui-Only" id="PersonAccount" processonclient="true"><fields><field displaytype="BOOLEAN" id="Enabled" label="Enabled" ogdisplaytype="TEXT" defaultvaluetype="fieldvalue" defaultValue="true"/></fields><conditions/><actions/></model><model id="SystemBranch" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="loan__Office_Name__c"><fields><field id="RecordTypeId"/><field id="loan__Current_System_Date__c"/></fields><conditions/><actions/></model><model id="NewParty" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="clcommon__Party__c"><fields><field id="clcommon__Account__c"/><field id="clcommon__Account__r.Name"/><field id="clcommon__Type__c"/><field id="clcommon__Type__r.Name"/></fields><conditions><condition type="fieldvalue" value="Applicant" enclosevalueinquotes="true" field="clcommon__Type__r.Name"/><condition type="modelmerge" value="" field="clcommon__Account__r.Id" operator="=" model="CommonAccountModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/></conditions><actions/></model></models><components><wrapper uniqueid="sk-5AA-1890"><components><pagetitle model="CommonApplicationModel" uniqueid="AppDetailTitleHeader"><actions><action type="multi" label="Save" icon="" uniqueid="sk-2eAI-193"><renderconditions logictype="and"/><enableconditions/><actions><action type="custom" snippet="saveApplication"/></actions></action></actions><renderconditions logictype="and"><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="Name" value="null" enclosevalueinquotes="false"/><rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="true" fieldmodel="OrgParameter" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="mode" value="read"/></renderconditions></pagetitle><pagetitle model="CommonApplicationModel" uniqueid="AppTitleHeader"><actions><action type="multi" label="Save" icon="" uniqueid="sk-2eAI-199"><actions><action type="custom" snippet="saveApplication"/></actions><renderconditions logictype="and"/><enableconditions/></action></actions><renderconditions logictype="and"><rendercondition type="blank" operator="=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Name" value="null" enclosevalueinquotes="false"/></renderconditions></pagetitle><wrapper uniqueid="ApplicationCreationWrapper"><components><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-3tWo-756" mode="edit"><columns><column width="50%" uniqueid="sk-3tWo-752"><sections><section title="Section A" uniqueid="sk-3tWo-753" collapsible="no" showheader="false"><fields><field uniqueid="sk-3tXM-834" id="Search_for_duplicate_loan_application__c"><label>I confirm I have searched for duplicate loan applications</label></field></fields></section></sections></column><column width="50%" uniqueid="sk-3tWo-754"><sections><section title="Section B" uniqueid="sk-3tWo-755" collapsible="no" showheader="false"><fields/></section></sections></column></columns></basicfieldeditor><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-2R58El-91" mode="edit"><columns><column width="50%"><sections><section collapsible="no" showheader="false"><fields><field id="genesis__CL_Product__c" displaytemplate="{{clcommon__Product_Name__c}} {{clcommon__Asset_Class__c}}" searchtemplate="{{clcommon__Product_Name__c}} {{clcommon__Asset_Class__c}}" tokenizesearch="true" required="true" pagesize="all" uniqueid="sk-2eAI-232" redirecttype="datasourcedefault"><searchfields usesosl="false" soslfields="Name Fields" orderby="clcommon__Product_Name__c"><searchfield query="true" return="true" show="true" field="clcommon__Product_Name__c" operator="contains"/></searchfields><filters><filter type="modelmerge" operator="=" field="RecordType.Name" value="" model="ApplicationRecordType" enclosevalueinquotes="true" mergefield="Name" novaluebehavior="deactivate"/><filter type="multiple" operator="not in" field="clcommon__Product_Name__c" fieldtargetobjects="clcommon__CL_Product__c" value="" enclosevalueinquotes="true"><values><value>Cloud Lending Test Product</value><value>Line of Credit(Secured)</value><value>Purchase</value><value>Equipment</value><value>Construction</value><value>Line of Credit(Unsecured)</value></values></filter></filters><renderconditions logictype="and" onhidedatabehavior="keep"/><enableconditions/><label>Loan Product</label></field></fields><renderconditions logictype="and"/></section></sections><renderconditions logictype="and"/></column><column width="50%"><sections><section title="" collapsible="no" showheader="false"><fields><field uniqueid="sk-2oio-846" id="Legal_Entity__c" required="true" pagesize="5"><label>Application Type</label><filters><filter type="multiple" operator="in" field="Name" fieldtargetobjects="clcommon__Legal_Entity__c" value="" enclosevalueinquotes="true"><values><value>Individual</value><value>Company</value><value>Trust</value><value>SMSF</value></values></filter></filters><searchfields/></field></fields></section></sections></column></columns><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/><rendercondition type="fieldvalue" operator="=" fieldmodel="ApplicationRecordType" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="DeveloperName" value="Loan" enclosevalueinquotes="true"/><rendercondition type="blank" operator="=" fieldmodel="OrgParameter" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="ProductId" value="null" enclosevalueinquotes="false"/></renderconditions></basicfieldeditor></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and" logic="1 "><rendercondition type="blank" operator="=" fieldmodel="CommonApplicationModel" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="id" value="null" enclosevalueinquotes="false"/><rendercondition type="blank" operator="=" fieldmodel="SelectedProduct" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="ProductId" value="null" enclosevalueinquotes="false"/></renderconditions></wrapper><wrapper uniqueid="sk-2oja-1468"><components><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CreateApplicationActionModel" uniqueid="sk-er8YS-1396" mode="edit"><columns><column width="100%"><sections><section title="Borrower Information" collapsible="no" showheader="true"><fields><columns layoutmode="fixed" uniqueid="sk-2eAI-307"><column width="50%"><sections><section title="" collapsible="no" showheader="false"><fields><field id="genesis__New_Borrower__c" uniqueid="sk-2eAI-302"><label>New Borrower</label><renderconditions logictype="and" onhidedatabehavior="keep"/><enableconditions logictype="and"/></field></fields></section></sections><renderconditions logictype="and"/></column><column width="50%"><sections><section title="" collapsible="no" showheader="false"><fields/></section></sections><renderconditions logictype="and"/></column></columns></fields><renderconditions logictype="and"/></section></sections></column></columns><renderconditions logictype="and" logic="1 AND 2 AND 3 AND 4 AND 5"><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__CL_Product__c" value="null" enclosevalueinquotes="false"/><rendercondition type="blank" operator="=" fieldmodel="CreateApplicationActionModel" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="id" value="null" enclosevalueinquotes="false"/><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__r.Name" fieldtargetobjects="clcommon__Legal_Entity__c" value="Individual"/></renderconditions></basicfieldeditor><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CreateApplicationActionModel" uniqueid="sk-12XZIm-546" mode="edit"><columns><column width="50%"><sections><section title="Borrower Information" collapsible="no"><fields><field id="genesis__Existing_Application__c" uniqueid="sk-2eAI-316" snippet="fieldRenderMode1"><label>New Borrower</label><renderconditions logictype="and" onhidedatabehavior="keep"/><enableconditions/></field></fields></section></sections></column><column width="50%"><sections/></column></columns><renderconditions logictype="and" logic="(1 AND 2 AND 3 ) AND (4 OR 5)"><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__CL_Product__c" value="null" enclosevalueinquotes="false"/><rendercondition type="blank" operator="=" fieldmodel="SelectedProduct" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="id" value="null" enclosevalueinquotes="false"/><rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__r.Name" fieldtargetobjects="clcommon__Legal_Entity__c" value="Individual"/><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__c" fieldtargetobjects="clcommon__Legal_Entity__c" value="null" enclosevalueinquotes="false"/></renderconditions></basicfieldeditor><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-12ZTMo-753" mode="edit"><columns><column width="50%"><sections><section title="Section A" collapsible="no" showheader="false"><fields><field id="genesis__Account__c" pagesize="5" displaytemplate="" searchtemplate="{{Name}}" uniqueid="sk-2eAI-338"><renderconditions logictype="and" onhidedatabehavior="keep"><rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CreateApplicationActionModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__Existing_Application__c" value="true"/></renderconditions><enableconditions/><searchfields/><filters><filter type="multiple" operator="not in" field="clcommon__Legal_Entity_Type__r.Name" value="" enclosevalueinquotes="true"><values><value>Individial</value><value>Sole Proprietorship</value></values></filter><filter type="blank" operator="!=" field="clcommon__Legal_Entity_Type__c" value="null" enclosevalueinquotes="false"/></filters><label>Borrower</label></field></fields></section></sections></column><column width="50%"><sections><section title="Section B" collapsible="no" showheader="false"><fields/></section></sections></column></columns><renderconditions logictype="and" logic="(1 AND 2 AND 3)"><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__CL_Product__c" value="null" enclosevalueinquotes="false"/><rendercondition type="blank" operator="=" fieldmodel="SelectedProduct" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="id" value="null" enclosevalueinquotes="false"/><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__c" fieldtargetobjects="clcommon__Legal_Entity__c" value="null" enclosevalueinquotes="false"/><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CreateApplicationActionModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__New_Borrower__c" fieldtargetobjects="genesis__Action__c" value="false"/></renderconditions></basicfieldeditor></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/></renderconditions><interactions/></wrapper><wrapper uniqueid="sk-2oxx-2606"><components><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonAccountModel" uniqueid="sk-2ox--2622" mode="edit"><columns><column width="50%" uniqueid="sk-2ox--2618"><sections><section title="Section A" uniqueid="sk-2ox--2619" collapsible="no" showheader="false"><fields><field uniqueid="sk-2oyE-2667" id="Name" snippet="fieldRenderMode1"><label>Borrower</label></field></fields></section></sections></column><column width="50%" uniqueid="sk-2ox--2620"><sections/></column></columns><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CreateApplicationActionModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__Existing_Application__c" fieldtargetobjects="genesis__Action__c" value="true"/></renderconditions></basicfieldeditor></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/></renderconditions></wrapper><wrapper uniqueid="sk-2oyK-2684"><components><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonContactModel" uniqueid="sk-2oyW-2720" mode="edit"><columns><column width="50%" uniqueid="sk-2oyW-2716"><sections><section title="Section A" uniqueid="sk-2oyW-2717" collapsible="no" showheader="false"><fields><field uniqueid="sk-2oye-2753" id="FirstName" snippet="fieldRenderMode1"/><field uniqueid="sk-2oyk-2788" id="MiddleName" snippet="fieldRenderMode1"><renderconditions logictype="and" onhidedatabehavior="keep"/><enableconditions/></field></fields></section></sections></column><column width="50%" uniqueid="sk-2oyW-2718"><sections><section title="Section B" uniqueid="sk-2oyW-2719" collapsible="no" showheader="false"><fields><field uniqueid="sk-2oyi-2767" id="LastName" snippet="fieldRenderMode1"/></fields></section></sections></column></columns><renderconditions logictype="and"/></basicfieldeditor></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CreateApplicationActionModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__New_Borrower__c" fieldtargetobjects="genesis__Action__c" value="true"/><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/></renderconditions></wrapper><wrapper uniqueid="sk-1Zs4-1584"><components><basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-1Zqj-1383" mode="edit"><columns><column width="50%" uniqueid="sk-1Zqj-1379"><sections><section title="Section A" uniqueid="sk-1Zqj-1380" collapsible="no" showheader="false"><fields><field uniqueid="sk-1ZrC-1403" id="genesis__Loan_Amount__c" required="true"/></fields></section></sections></column><column width="50%" uniqueid="sk-1Zqj-1381"><sections><section title="Section B" uniqueid="sk-1Zqj-1382" collapsible="no" showheader="false"><fields/></section></sections></column></columns></basicfieldeditor></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__CL_Product__c" fieldtargetobjects="clcommon__CL_Product__c" value="null" enclosevalueinquotes="false"/><rendercondition type="multiple" operator="in" fieldmodel="ApplicationRecordType" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="DeveloperName" fieldtargetobjects="RecordType" value="" enclosevalueinquotes="true"><values><value>Loan</value></values></rendercondition><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__c" fieldtargetobjects="clcommon__Legal_Entity__c" value="null" enclosevalueinquotes="false"/></renderconditions><interactions/></wrapper><wrapper uniqueid="sk-2otL-2427"><components><includepanel type="skuid" uniqueid="sk-2otM-2438" pagename="CustomAnyLoanProductApplicationForm" querystring="?id={{$Param.id}}}&amp;mode={{{$Param.mode}}}&amp;pid={{{$Model.CommonApplicationModel.data.0.genesis__CL_Product__r.clcommon__Product_Name__c}}}"><renderconditions logictype="and"/></includepanel></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Search_for_duplicate_loan_application__c" fieldtargetobjects="genesis__Applications__c" value="true"/><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__CL_Product__c" fieldtargetobjects="clcommon__CL_Product__c" value="null" enclosevalueinquotes="false"/><rendercondition type="multiple" operator="in" fieldmodel="ApplicationRecordType" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="DeveloperName" fieldtargetobjects="RecordType" value="" enclosevalueinquotes="true"><values><value>Loan</value></values></rendercondition><rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Legal_Entity__c" fieldtargetobjects="clcommon__Legal_Entity__c" value="null" enclosevalueinquotes="false"/><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="param" nosourcerowbehavior="deactivate" sourceparam="Id" value="3131"/></renderconditions><interactions/></wrapper></components><styles><styleitem type="background"/><styleitem type="border"/><styleitem type="size"/></styles><renderconditions logictype="and"><rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="RecordType.Name" value="Loan"/></renderconditions></wrapper></components><resources><labels/><javascript><jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="commonUtils.js">var params = arguments[0],
              $ = skuid.$;
            </jsitem><jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="messageUtils.js">var params = arguments[0],
              $ = skuid.$;
            </jsitem><jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="clsRemoteActions.js">var params = arguments[0],
              $ = skuid.$;
            </jsitem><jsitem location="external" name="Account_AjaxToolKit" cachelocation="false" url="/soap/ajax/40.0/apex.js">/soap/ajax/40.0/apex.js</jsitem><jsitem location="inline" name="loadCommonModels" cachelocation="false" url="">(function(skuid){
  var $ = skuid.$;
  $('head').append(
      $('&lt;base target="_blank"&gt;')
  );
  $(document.body).one('pageload',function(){
      var personAccount = skuid.model.getModel('PersonAccount');
      try{
        var isPersonAccount = false;
        var records =  skuid.utils.getAPIDescribeSObject('Account');
        records.recordTypeInfos.forEach(function(value) {
            // Check default record type and person account
            if(value.defaultRecordTypeMapping==="true")
            {
               var recordTypeId = value.recordTypeId
               var queryForPersonAccount = "select IsPersonType from RecordType where SobjectType='Account' and Id= \'"+recordTypeId+"\' and IsPersonType=true"
               var recordCount = sforce.connection.query(queryForPersonAccount);
               if(recordCount.size==1)
                isPersonAccount = true;
            }
        });

        if(personAccount.data.length!==0)
        {
            personAccount.data[0].Enabled=isPersonAccount;
        }
      }
      catch(ex){
        if(personAccount.data.length!==0)
        {
            personAccount.data[0].Enabled=false;
        }
      }
      var paramId = skuid.page.params.id;
      var orgParamRow = skuid.model.getModel('OrgParameter').getFirstRow();
      var applicationModel = skuid.model.getModel('CommonApplicationModel');
      applicationModel.emptyData();
      if(paramId){
            var appIdCondition = applicationModel.getConditionByName('AppId');
            applicationModel.setCondition(appIdCondition,paramId);
            skuid.model.updateData([applicationModel],function(){
                // record type
                var appRecType = applicationModel.data[0].RecordTypeId;
                var applicationRTModel = skuid.model.getModel('ApplicationRecordType');
                var rtIdCondition = applicationRTModel.getConditionByName('Id');
                applicationRTModel.setCondition(rtIdCondition,appRecType);

                var productModel = skuid.model.getModel('SelectedProduct');
                var prodIdCondition = productModel.getConditionByName('Id');
                productModel.setCondition(prodIdCondition, applicationModel.data[0].genesis__CL_Product__c);
                skuid.model.updateData([productModel,applicationRTModel],function(){
                    skuid.snippet.getSnippet('fetchAccountData')();
                    skuid.snippet.getSnippet('fetchContactData')();
                });
            });
      }else{
          // fetch record type info
          var appRecType = skuid.page.params.RecordType;
          var appProType = skuid.page.params.ProductId;
            var applicationRTModel = skuid.model.getModel('ApplicationRecordType');
            //var rtIdCondition = applicationRTModel.getConditionByName('Id');
            //applicationRTModel.setCondition(rtIdCondition,'0122v000001taq4AAA');
            
          if(appProType){
             
              skuid.model.updateData([applicationRTModel],function(){
              var newRow = applicationModel.createRow({
                    additionalConditions: [
                        { field: 'NewBorrower', value:false },
                        { field: 'RecordType', value:applicationRTModel.getFirstRow() },
                        { field: 'RecordTypeId', value:applicationRTModel.getFirstRow().Id },
                        { field: 'genesis__Account__c', value:skuid.page.params.AccountId },
                        { field: 'genesis__CL_Product__c', value:appProType },
                    ]
                });
            });
          }else{
              skuid.model.updateData([applicationRTModel],function(){
                  var newRow = applicationModel.createRow({
                        additionalConditions: [
                            { field: 'NewBorrower', value:false },
                            { field: 'RecordType', value:applicationRTModel.getFirstRow() },
                            { field: 'RecordTypeId', value:applicationRTModel.getFirstRow().Id },
                        ]
                    });
            });
         }
      }
  });
})(skuid);
</jsitem><jsitem location="inlinesnippet" name="fieldRenderMode1" cachelocation="false">var field = arguments[0],
    value = arguments[1];
var renderMode = skuid.page.params.mode;
fieldModeToRender(field,value,renderMode);</jsitem><jsitem location="inlinesnippet" name="fetchAccountData" cachelocation="false">var params = arguments[0],
  $ = skuid.$;

var applicationRowData = skuid.model.getModel('CommonApplicationModel').data[0];
var commonAccountModel = skuid.model.getModel('CommonAccountModel');
var biModel = skuid.model.getModel('CommonBusinessInforModel');

commonAccountModel.emptyData();
biModel.emptyData();

if(applicationRowData &amp;&amp; applicationRowData.genesis__Account__c){
    var accountIdCondition = commonAccountModel.getConditionByName('CommonAccId');
    commonAccountModel.setCondition(accountIdCondition,applicationRowData.genesis__Account__c);
    skuid.model.updateData([commonAccountModel],function(){
        if(!(commonAccountModel.data &amp;&amp; commonAccountModel.data.length &gt; 0)){
            var newPSRow = commonAccountModel.createRow({ });
            console.log("AccountData=&gt;&gt;&gt;&gt;&gt;",newPSRow);
        }else{
            if(commonAccountModel.data[0].genesis__Business_Information__c){
                // fetch business info
                var bIdCondition = biModel.getConditionByName('BusinessInfoId');
                biModel.setCondition(bIdCondition,commonAccountModel.data[0].genesis__Business_Information__c);
                skuid.model.updateData([biModel],function(){});
            }else{
                var newBIRow = biModel.createRow({ });
            }
        }
    });
}else{
    if(!(commonAccountModel.data &amp;&amp; commonAccountModel.data.length &gt; 0)){
        var newPSRow = commonAccountModel.createRow({ });
        var newBIRow = biModel.createRow({ });
        console.log("AccountData=&gt;&gt;&gt;&gt;&gt;",newPSRow);
    }
}
</jsitem><jsitem location="inlinesnippet" name="fetchContactData" cachelocation="false">var params = arguments[0],
  $ = skuid.$;

var applicationRowData = skuid.model.getModel('CommonApplicationModel').data[0];
var commonContactModel = skuid.model.getModel('CommonContactModel');
commonContactModel.emptyData();
if(applicationRowData &amp;&amp; applicationRowData.Name){
    if(applicationRowData.genesis__Contact__c){
        var contactIdCondition = commonContactModel.getConditionByName('CommonContactId');
        commonContactModel.setCondition(contactIdCondition,applicationRowData.genesis__Contact__c);
        skuid.model.updateData([commonContactModel],function(){
            if(!(commonContactModel.data &amp;&amp; commonContactModel.data.length &gt; 0)){
                var newPSRow = commonContactModel.createRow({ });
            }
        });
    }

    if(applicationRowData.genesis__Account__c &amp;&amp; applicationRowData.genesis__Account__r &amp;&amp;
        applicationRowData.genesis__Account__r.clcommon__Legal_Entity_Type__c &amp;&amp;
        (applicationRowData.genesis__Account__r.clcommon__Legal_Entity_Type__r.Name.toUpperCase() == 'INDIVIDUAL' ||
            applicationRowData.genesis__Account__r.clcommon__Legal_Entity_Type__r.Name.toUpperCase() == 'SOLE PROPRIETORSHIP')){
        var accountIdCondition = commonContactModel.getConditionByName('AccountId');
        commonContactModel.setCondition(accountIdCondition,applicationRowData.genesis__Account__c);
        skuid.model.updateData([commonContactModel],function(){
            if(!(commonContactModel.data &amp;&amp; commonContactModel.data.length &gt; 0)){
                var newPSRow = commonContactModel.createRow({ });
            }
        });
    }
}else{
    if(applicationRowData &amp;&amp; applicationRowData.genesis__Contact__c){
        var contactIdCondition = commonContactModel.getConditionByName('CommonContactId');
        commonContactModel.setCondition(contactIdCondition,applicationRowData.genesis__Contact__c);
        skuid.model.updateData([commonContactModel],function(){
            if(!(commonContactModel.data &amp;&amp; commonContactModel.data.length &gt; 0)){
                var newPSRow = commonContactModel.createRow({ });
            }
        });
    }else{
        if(!(commonContactModel.data &amp;&amp; commonContactModel.data.length &gt; 0)){
            var newPSRow = commonContactModel.createRow({ });
        }
    }
}</jsitem><jsitem location="inlinesnippet" name="saveApplication" cachelocation="false">var params = arguments[0],
  $ = skuid.$;
  $xml = skuid.utils.makeXMLDoc;
	var context = {};
  console.log('check 1&lt;========');
var newAppParams = {};
var editorWrapper = $('#AppTitleHeader'); 
if(skuid.page.params.id){
    editorWrapper = $('#AppDetailTitleHeader'); 
}
var error=function(errorMessage){
    $.unblockUI();
    var popupXMLString = '&lt;popup width="40%" font-size="26px" title="Required Fields Missing"&gt;'
        popupXMLString += '&lt;components&gt;'
            popupXMLString += '&lt;pagetitle model="CommonApplicationModel"&gt;'
                popupXMLString += '&lt;maintitle&gt;'+errorMessage+'&lt;/maintitle&gt;'
            popupXMLString +='&lt;/pagetitle&gt;'
        popupXMLString += '&lt;/components&gt;'
    popupXMLString += '&lt;/popup&gt;';
    
    var popupXML = $xml(popupXMLString);
    var popup = skuid.utils.createPopupFromPopupXML(popupXML,context);
}
//********************************************************
var editor = editorWrapper.data('object').editor;
var fetchIncludedPageData = skuid.snippet.getSnippet('getIncludedPageData');
var result = fetchIncludedPageData();
if(!result){
    $.unblockUI();
    editor.handleMessages(
        [
          {
              message: 'Unable to save Application data.',
              severity: 'ERROR'
          },
        ]
    );
    return;
}
//var applicationModel = skuid.model.getModel('CommonApplicationModel');
var applicationModel = result['genesis__Applications__c'];
var appRow = applicationModel.data[0];
if(skuid.page.params.RecordType){
    appRow.RecordTypeId = skuid.page.params.RecordType;    
}
if(skuid.page.params.parentId){
    appRow.genesis__Parent_Application__c = skuid.page.params.parentId;    
}
var selectedProductModel = skuid.model.getModel('SelectedProduct');
var selectedProductRow = selectedProductModel.data[0];
if(selectedProductRow.Id &amp;&amp; selectedProductRow.Id.length &gt; 14){
    appRow.genesis__CL_Product__c = selectedProductRow.Id;
}
var contactModel = skuid.model.getModel('CommonContactModel');
var contactRow = contactModel.data[0];
var accountModel = skuid.model.getModel('CommonAccountModel');
var accRow = accountModel.data[0];
var branchModel = skuid.model.getModel('SystemBranch');
var branchRow = branchModel.data[0];

var businessModel = skuid.model.getModel('CommonBusinessInforModel');
var businessRow = businessModel.data[0];
if(applicationModel.Legal_Entity__c===undefined || applicationModel.Legal_Entity__c===''){
     var appRow1 = applicationModel.getFirstRow();
     applicationModel.updateRow(appRow1,{Legal_Entity__c:skuid.model.getModel('CommonApplicationModel').data[0].Legal_Entity__c});
}
if(!appRow.genesis__Term__c){
    appRow.genesis__Term__c = 0;
}
if(!appRow.genesis__Interest_Only_Period__c){
    appRow.genesis__Interest_Only_Period__c	= 0;
}
if(!appRow.genesis__Interest_Rate__c){
    appRow.genesis__Interest_Rate__c = 0;
}
if(!appRow.genesis__Loan_Amount__c){
    appRow.genesis__Loan_Amount__c = 0;
}
if(!appRow.genesis__Credit_Limit__c){
    appRow.genesis__Credit_Limit__c = 0;
}
if(!appRow.genesis__Financed_Amount__c){
    appRow.genesis__Financed_Amount__c = 0;
}
if(!appRow.genesis__Draw_Term__c){
    appRow.genesis__Draw_Term__c = 0;
}
if(!appRow.genesis__Initial_Advance__c){
    appRow.genesis__Initial_Advance__c = 0;
}
/*if(!appRow.genesis__Product_Type__c){
    appRow.genesis__Product_Type__c = 'LOAN';
}
if(!appRow.genesis__Product_Sub_Type__c){
    appRow.genesis__Product_Sub_Type__c = 'UNDEFINED';
}
/*
if(!appRow.genesis__Pricing_Method__c){
    appRow.genesis__Pricing_Method__c = 'RATE CARD';
}
if(!appRow.genesis__Sales_Division__c){
    appRow.genesis__Sales_Division__c = 'DEALER';
}
*/

if(!appRow.genesis__Other_Financed_fees__c){
    appRow.genesis__Other_Financed_fees__c = 0;
}
if(!appRow.genesis__Expected_Start_Date__c){
    appRow.genesis__Expected_Start_Date__c = branchRow.loan__Current_System_Date__c;
}
if(!appRow.genesis__Expected_First_Payment_Date__c){
    var dt = new Date(branchRow.loan__Current_System_Date__c);
    appRow.genesis__Expected_First_Payment_Date__c = dt.setMonth(dt.getMonth() + 1);
}
if(selectedProductRow.clcommon__Product_Name__c == 'Construction Development'){
    appRow.genesis__Interest_Calculation_Method__c = 'Flat';
}
newAppParams.applicationM = applicationModel;
newAppParams.pmtstreamM = null;
newAppParams.businessM = businessModel;
console.log("Application=&gt;&gt;&gt;&gt;&gt;&gt;",newAppParams);
if(accRow.Name){
    var accRow1 = accountModel.getFirstRow();
    accountModel.updateRow(accRow1,{clcommon__Legal_Entity_Type__c:skuid.model.getModel('CommonApplicationModel').data[0].Legal_Entity__c});
    //************************************************************************
    if(!accountModel.data[0]['clcommon__Legal_Entity_Type__c']){
        $.unblockUI();
        editor.handleMessages(
            [
              {
                  message: 'Legal Entity Type is missing',
                  severity: 'ERROR'
              },
            ]
        );
        return;
    }
    newAppParams.accountM = accountModel;
    console.log("Existing Account ",newAppParams.accountM);
}else{
    newAppParams.accountM = null;
}

if(contactRow &amp;&amp; contactRow.LastName &amp;&amp; !accRow.Name){
    var conRow1 = contactModel.getFirstRow();
    try{
    contactModel.updateRow(conRow1,{clcommon__Legal_Entity_Type__c:skuid.model.getModel('CommonApplicationModel').data[0].Legal_Entity__c});    
    }
    catch(err){
        alert(''+err.message);
    }
    //*******assign legal entity type for contact****
    if(!contactModel.data[0].clcommon__Legal_Entity_Type__c){
        $.unblockUI();
        editor.handleMessages(
            [
              {
                  message: 'Legal Entity Type is missing',
                  severity: 'ERROR'
              },
            ]
        );
        return;
    }
    newAppParams.contactM = contactModel;
    console.log("Existing Contact ",newAppParams.contactM);
}else{
    newAppParams.contactM = null;
}
var skuidApplicationId = appRow.Id;
//block ui and call save app function

$.blockUI({
    onBlock: function() {
        var result=saveNGApplication(newAppParams);
        console.log(result);
        var resultJSON = $.parseJSON(result[0]);
        if(resultJSON.errorMessage){
            $.unblockUI();
            error(resultJSON.errorMessage);
            return;
        }
        
        
        console.log(resultJSON.content[0].genesis__Account__c);
        console.log(resultJSON.content[0].clcommon__Legal_Entity_Type__c);
        
        var legalEntityId = accountModel.data[0]['clcommon__Legal_Entity_Type__c'];
        var myquery = "SELECT Name FROM clcommon__Legal_Entity__c WHERE id = '"+applicationModel.data[0].Legal_Entity__c+"'"; 
        console.log(myquery);
        var resultQuery;
        resultQuery = sforce.connection.query(myquery); 
        records = resultQuery.getArray("records"); 
        
        //Query party type individual for contact person details.
        var individualPartyId = "SELECT Id FROM clcommon__Legal_Entity__c WHERE Name = 'Individual'"; 
        var companyPartyId = "SELECT Id FROM clcommon__Legal_Entity__c WHERE Name = 'Company'";
        console.log(individualPartyId);
        var resultIndPartyQuery;
        resultIndPartyQuery = sforce.connection.query(companyPartyId); 
        
        records1 = resultIndPartyQuery.getArray("records");
        if(records[0].Name  === 'Company' || records[0].Name === 'Trust' || records[0].Name === 'SMSF'){
            contactModel.updateRow(contactModel.getFirstRow,
                {
                    AccountId : resultJSON.content[0].genesis__Account__c,
                    clcommon__Legal_Entity_Type__c:records1[0].Id
                }
            );
            //changed
            contactModel.save({callback : function(saveContact){
                console.log(saveContact);
            }})
        } else if(records[0].Name === 'Individual'){
            if(contactRow.FirstName &amp;&amp; contactRow.MiddleName &amp;&amp; contactRow.LastName){
                var fullName=contactRow.FirstName+' '+contactRow.MiddleName+' '+contactRow.LastName;
                var accObj= new sforce.SObject("Account");
                accObj.Name=fullName;
                accObj.Id=resultJSON.content[0].genesis__Account__c;
                var updateAccResult = sforce.connection.update([accObj]);
                
                console.log(updateAccResult);
               if(updateAccResult[0].getBoolean("success")){
               }else{
                   alert(updateAccResult);
               }
            }
        }
        if (resultJSON.status === 'ERROR') {
            $.unblockUI();
            editor.handleMessages(
                [
                  {
                      message: resultJSON.errorMessage.slice(47,500),
                      severity: 'ERROR'
                  },
                ]
            );
        }else {
            if(skuidApplicationId == resultJSON.content[0].Id){
                closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe,loan-details-iframe','loan-details-iframe','deal-dashboard-iframe,document-iframe']});
            }else{
                 window.location = '/' + resultJSON.content[0].Id;   
            }
        }
    //*******************finish on block 
    },
    message: 'The changes are being recorded!'
});
        
        
        </jsitem><jsitem location="inlinesnippet" name="CloseDialog" cachelocation="false">var params = arguments[0],
    $ = skuid.$;

//closeTopLevelDialogAndRefresh({iframeIds: ['loan-details-iframe']});
closeTopLevelDialogAndRefresh({iframeIds: ['deal-dashboard-iframe,loan-details-iframe','loan-details-iframe']});
</jsitem><jsitem location="inlinesnippet" name="IsReadModeDisabled" cachelocation="false" url="">var params = arguments[0],
  $ = skuid.$;

var readMode = false;
if(skuid.page.params.mode &amp;&amp; skuid.page.params.mode == 'read'){
    readMode = true;
}

return !readMode;</jsitem><jsitem location="inlinesnippet" cachelocation="false" name="getIncludedPageData">var params = arguments[0],
	$ = skuid.$;
var productRow = skuid.model.getModel('GeneralLoanCLProduct').getFirstRow();
var applicationModel = skuid.model.getModel('CommonApplicationModel');
if(applicationModel &amp;&amp; applicationModel.data &amp;&amp; applicationModel.data[0] &amp;&amp; productRow){
    applicationModel.data[0].genesis__CL_Product__c = productRow.Id;
}
var result = {
    'genesis__Applications__c' : applicationModel,
};

return result;

</jsitem></javascript><css><cssitem location="inline" name="newcss" cachelocation="false">.sk-wrapper .nx-page {
    padding: 0 0 0 0;
}

.nx-page-problems-wrapper{
    display:none!important;
}

.paddingAddressCheckbox{
    padding-bottom:8px;
}</cssitem></css><actionsequences uniqueid="sk-1AeW-746"/></resources><styles><styleitem type="background" bgtype="color"><styles><styleitem property="background-color" value="#ffffff"/></styles></styleitem></styles><interactions/></skuidpage>