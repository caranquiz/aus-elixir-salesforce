<skuidpage unsavedchangeswarning="yes" personalizationmode="server" showsidebar="true" useviewportmeta="true" showheader="true" theme="ElixirThemepPlan">
  <models>
    <model id="CommonApplicationModel" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="genesis__Applications__c">
      <fields>
        <field id="RecordTypeId"/>
        <field id="genesis__Status__c"/>
        <field id="genesis__Account__c"/>
        <field id="genesis__Account__r.Name"/>
        <field id="genesis__CL_Purpose__c"/>
        <field id="genesis__CL_Purpose__r.Name"/>
        <field id="genesis__CL_Product_Name__c"/>
        <field id="CreatedDate"/>
        <field id="CreatedBy.Name"/>
        <field id="genesis__Lending_Product__c"/>
        <field id="genesis__Lending_Product__r.Name"/>
        <field id="CreatedById"/>
        <field id="LastModifiedById"/>
        <field id="LastModifiedBy.Name"/>
        <field id="genesis__Balloon_Payment__c"/>
        <field id="genesis__Days_Convention__c"/>
        <field id="genesis__Loan_Amount__c"/>
        <field id="genesis__Term__c"/>
        <field id="genesis__Interest_Compounding_Frequency__c"/>
        <field id="genesis__Interest_Calculation_Method__c"/>
        <field id="genesis__Interest_Only_Period__c"/>
        <field id="genesis__Interest_Rate__c"/>
        <field id="genesis__Payment_Frequency__c"/>
        <field id="genesis__Funding_in_Tranches__c"/>
        <field id="genesis__Expected_Start_Date__c"/>
        <field id="genesis__Expected_First_Payment_Date__c"/>
        <field id="genesis__Maturity_Date__c"/>
        <field id="genesis__Payment_Due_Date__c"/>
        <field id="genesis__Draw_Period_End_Date__c"/>
        <field id="genesis__Amortization_Term__c"/>
        <field id="genesis__Product_Type__c"/>
        <field id="Name"/>
        <field id="genesis__Contact__c"/>
        <field id="genesis__Contact__r.Name"/>
        <field id="CL_Contract__c"/>
        <field id="CL_Contract__r.Name"/>
        <field id="Id"/>
        <field id="genesis__CL_Purpose__r.loan__Lending_Purpose__c"/>
        <field id="genesis__CL_Purpose__r.loan__Lending_Purpose__r.Name"/>
        <field id="genesis__CL_Product__r.loan__Lending_Product__c"/>
        <field id="genesis__CL_Product__r.loan__Lending_Product__r.Name"/>
        <field id="genesis__CL_Product__r.loan__Lending_Product__r.Id"/>
        <field id="Loan_Application__c"/>
        <field id="Loan_Application__r.Name"/>
        <field id="Loan_Application__r.peer__Loan__c"/>
        <field id="Loan_Application__r.peer__Loan__r.Name"/>
        <field id="genesis__Fees_Amount__c"/>
        <field id="Loan_Application__r.peer__Loan__r.loan__Frequency_of_Loan_Payment__c"/>
        <field id="Loan_Application__r.peer__Loan__r.loan__Maturity_Date_Current__c"/>
        <field id="genesis__Expected_Close_Date__c"/>
        <field id="genesis__Description__c"/>
        <field id="Loan_Application__r.peer__Remaining_Requested_Amount__c"/>
        <field id="Loan_Application__r.peer__Requested_Loan_Amount__c"/>
        <field id="First_Drawdown_Complete__c"/>
        <field id="genesis__Disbursement_Date__c"/>
        <field id="Type_of_Investor__c"/>
        <field id="genesis__Account__r.Id"/>
        <field id="Fixed_Rate_Term__c"/>
        <field id="genesis__Due_Day__c"/>
        <field id="genesis__Initial_Advance__c"/>
        <field id="First_Tranche_Prepaid_Interest__c"/>
        <field id="genesis__CL_Product__r.clcommon__Product_Name__c"/>
        <field id="Subsequent_Drawdown__c"/>
        <field id="Subsequent_Drawdown_Prepaid_Interest_Sum__c"/>
        <field id="Drawdown_Prepaid_Interest__c"/>
        <field id="Total_Subsequent_Drawdown__c"/>
        <field id="Total Drawdown Amount" uionly="true" displaytype="FORMULA" defaultvaluetype="fieldvalue" ogdisplaytype="TEXT" readonly="true" returntype="CURRENCY" precision="16" scale="2">
          <formula>{{Subsequent_Drawdown__c}}+{{Drawdown_Prepaid_Interest__c}}</formula>
        </field>
        <field uionly="true" displaytype="FORMULA" ogdisplaytype="TEXT" readonly="true" returntype="CURRENCY" precision="16" scale="2" id="First Drawdown Amount" label="First Drawdown Amount">
          <formula>{{genesis__Initial_Advance__c}}+{{First_Tranche_Prepaid_Interest__c}}</formula>
        </field>
        <field id="Legal_Entity__r.Name"/>
        <field id="Legal_Entity__c"/>
        <field id="Approved Loan Amount" uionly="true" displaytype="FORMULA" ogdisplaytype="TEXT" readonly="true" returntype="CURRENCY" precision="9" scale="2" defaultvaluetype="fieldvalue" label="Approved Loan Amount">
          <formula>{{genesis__Initial_Advance__c}}+{{Total_Subsequent_Drawdown__c}}</formula>
        </field>
        <field id="CL_Contract__r.loan__Loan_Status__c"/>
        <field id="Loan_Application__r.peer__Loan__r.loan__Loan_Status__c"/>
        <field id="Loan_Application__r.peer__Amount_Funded__c"/>
        <field id="Loan_Application__r.peer__Loan__r.loan__Disbursed_Amount__c"/>
        <field id="CL_Contract__r.loan__Remaining_Loan_Amount__c"/>
        <field id="CL_Contract__r.loan__Disbursed_Amount__c"/>
        <field id="genesis__Account__r.Bank_Account_Name__c"/>
        <field id="genesis__Account__r.Bank_Account_Number__c"/>
        <field id="genesis__Account__r.BSB__c"/>
      </fields>
      <conditions>
        <condition type="param" value="Id" field="Id" operator="=" enclosevalueinquotes="true" model="LoanWarehouse"/>
      </conditions>
      <actions/>
    </model>
    <model id="LoanApplication" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="peer__Loan_Application__c">
      <fields>
        <field id="peer__Loan__c"/>
        <field id="peer__Loan__r.Name"/>
      </fields>
      <conditions>
        <condition type="modelmerge" value="" field="Id" operator="=" model="CommonApplicationModel" enclosevalueinquotes="true" mergefield="Loan_Application__c" novaluebehavior="deactivate" fieldtargetobjects="peer__Loan_Application__c"/>
      </conditions>
      <actions/>
    </model>
    <model id="Investment_Booking" limit="100" query="true" createrowifnonefound="false" datasource="salesforce" sobject="peer__Investment_Booking__c">
      <fields>
        <field id="peer__Booking_Order__c"/>
        <field id="peer__Booking_Order__r.Name"/>
        <field id="peer__Investment_Amount__c"/>
        <field id="peer__Certificate_Rate__c"/>
        <field id="peer__Service_Rate__c"/>
        <field id="peer__Stage__c"/>
        <field id="Invest__c"/>
        <field id="Name"/>
        <field id="peer__Booking_Order__r.peer__Investor__c"/>
        <field id="peer__Booking_Order__r.peer__Investor__r.Name"/>
      </fields>
      <conditions>
        <condition type="fieldvalue" value="In Funding" enclosevalueinquotes="true" field="peer__Stage__c" model="LoanWarehouse"/>
        <condition type="modelmerge" value="" field="peer__Loan_Application__c" fieldtargetobjects="peer__Loan_Application__c" operator="=" model="CommonApplicationModel" enclosevalueinquotes="true" mergefield="Loan_Application__c" novaluebehavior="deactivate"/>
      </conditions>
      <actions/>
    </model>
    <model id="ActiveIO" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="loan__Investor_Loan__c">
      <fields>
        <field id="loan__Investment_Amount__c"/>
        <field id="loan__Priority__c"/>
        <field id="loan__Certificate_Rate__c"/>
        <field id="loan__Service_Rate__c"/>
        <field id="loan__Status__c"/>
        <field id="Name"/>
        <field id="loan__Account__c"/>
        <field id="loan__Account__r.Name"/>
      </fields>
      <conditions logic="1 AND 2 AND 3">
        <condition type="fieldvalue" value="Active" enclosevalueinquotes="true" field="loan__Status__c" model="LoanWarehouse"/>
        <condition type="modelmerge" value="" field="loan__Loan__c" fieldtargetobjects="loan__Loan_Account__c" operator="=" model="CommonApplicationModel" enclosevalueinquotes="true" mergefield="Loan_Application__r.peer__Loan__c" novaluebehavior="deactivate"/>
        <condition type="blank" value="null" field="loan__Loan__c" fieldtargetobjects="loan__Loan_Account__c" operator="!=" enclosevalueinquotes="false" model="LoanWarehouse"/>
      </conditions>
      <actions/>
    </model>
    <model limit="20" query="true" createrowifnonefound="false" datasource="salesforce" id="LoanWarehouse" sobject="Loan_Warehouse__c" orderby="CreatedDate DESC">
      <fields>
        <field id="Application__c"/>
        <field id="Application__r.Name"/>
        <field id="CL_Contract__c"/>
        <field id="CL_Contract__r.Name"/>
        <field id="Name"/>
        <field id="Warehouse__c"/>
        <field id="Warehouse__r.Name"/>
        <field id="Id"/>
        <field id="CreatedDate"/>
        <field id="CL_Contract__r.loan__Principal_Remaining__c"/>
        <field id="Previous_Warehouse__c"/>
        <field id="Previous_Warehouse__r.Name"/>
        <field id="Active__c"/>
        <field id="Balance_Outstanding__c"/>
      </fields>
      <conditions>
        <condition type="modelmerge" value="" field="Application__c" fieldtargetobjects="genesis__Applications__c" operator="=" model="CommonApplicationModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/>
      </conditions>
      <actions/>
    </model>
    <model id="ActiveWarehouseInvestor" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="Loan_Warehouse__c">
      <fields>
        <field id="Warehouse__c"/>
        <field id="Warehouse__r.Name"/>
      </fields>
      <conditions>
        <condition type="fieldvalue" value="true" enclosevalueinquotes="false" field="Active__c"/>
        <condition type="modelmerge" value="" field="Application__c" fieldtargetobjects="genesis__Applications__c" operator="=" model="CommonApplicationModel" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/>
      </conditions>
      <actions/>
    </model>
    <model id="Shareholder" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="clcommon__Party__c">
      <fields>
        <field id="Share__c"/>
      </fields>
      <conditions>
        <condition type="multiple" value="" field="clcommon__Type__r.Name" operator="in" enclosevalueinquotes="true">
          <values>
            <value>Director &amp; Shareholder</value>
            <value>Shareholder</value>
          </values>
        </condition>
        <condition type="param" value="Id" field="genesis__Application__c" fieldtargetobjects="genesis__Applications__c" operator="=" enclosevalueinquotes="true"/>
      </conditions>
      <actions/>
    </model>
  </models>
  <components>
    <grid uniqueid="sk-1rrL-376">
      <divisions>
        <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
          <components>
            <wrapper uniqueid="sk-1hSh-209">
              <components>
                <pagetitle model="ActiveIO" uniqueid="sk-1rnb-630">
                  <actions>
                    <action type="multi" label="Convert To CL Contract" uniqueid="sk-Xcf-578">
                      <actions>
                        <action type="custom" snippet="convertToLoan"/>
                      </actions>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                        <rendercondition type="blank" operator="=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="CL_Contract__c" fieldtargetobjects="loan__Loan_Account__c" value="null" enclosevalueinquotes="false"/>
                      </renderconditions>
                      <enableconditions logictype="and"/>
                    </action>
                    <action type="multi" label="Fund Loan By Warehouse" uniqueid="sk-Xcf-584">
                      <actions>
                        <action type="custom" snippet="WarehouseFunding"/>
                      </actions>
                      <renderconditions logictype="and">
                        <rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="CL_Contract__c" fieldtargetobjects="loan__Loan_Account__c" value="null" enclosevalueinquotes="false"/>
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="CL_Contract__r.loan__Loan_Status__c" fieldtargetobjects="loan__Loan_Account__c" value="Approved"/>
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                      </renderconditions>
                      <enableconditions logictype="and"/>
                    </action>
                    <action type="multi" label="Convert To CL Contract" uniqueid="sk-Xcf-588">
                      <actions>
                        <action type="custom" snippet="LoanApplicationConvert"/>
                      </actions>
                      <hotkeys/>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                        <rendercondition type="blank" operator="=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Loan_Application__c" fieldtargetobjects="peer__Loan_Application__c" value="null" enclosevalueinquotes="false"/>
                      </renderconditions>
                      <enableconditions logictype="and"/>
                    </action>
                    <action type="multi" label="Fund Loan By Contributory Investor" uniqueid="sk-Xcg-592">
                      <actions>
                        <action type="custom" snippet="InvestorFunding"/>
                      </actions>
                      <renderconditions logictype="custom" logic="1 AND 2 AND (3 OR 4)">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                        <rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Loan_Application__r.peer__Loan__c" fieldtargetobjects="loan__Loan_Account__c" value="null" enclosevalueinquotes="false"/>
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Loan_Application__r.peer__Loan__r.loan__Loan_Status__c" fieldtargetobjects="loan__Loan_Account__c" value="Approved"/>
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c" value="Construction Development"/>
                      </renderconditions>
                      <enableconditions logictype="custom" logic="1 AND 2 AND (3 OR 4)"/>
                      <hotkeys/>
                    </action>
                    <action type="multi" label="Save" uniqueid="sk-88J-571">
                      <actions>
                        <action type="save">
                          <models>
                            <model>CommonApplicationModel</model>
                            <model>LoanApplication</model>
                            <model>Investment_Booking</model>
                            <model>LoanWarehouse</model>
                            <model>BankAccount</model>
                          </models>
                        </action>
                        <action type="custom" snippet="refreshSnippet"/>
                      </actions>
                    </action>
                    <action type="cancel" label="Cancel" uniqueid="sk-88R-600" window="self"/>
                  </actions>
                </pagetitle>
                <wrapper uniqueid="sk-1n68-689">
                  <components>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-g3s-381" mode="edit">
                      <columns>
                        <column width="100%" uniqueid="sk-1nAL-424">
                          <sections>
                            <section title="Investor" collapsible="no" uniqueid="sk-1nAy-575">
                              <fields>
                                <field uniqueid="sk-1nA--593" id="Type_of_Investor__c" snippet="fieldRenderer5"/>
                              </fields>
                            </section>
                            <section title="Loan Details" collapsible="no" uniqueid="sk-1nAL-425">
                              <fields>
                                <field uniqueid="sk-3fC6-570" id="genesis__Status__c"/>
                                <columns uniqueid="sk-1nAP-446" layoutmode="fixed">
                                  <column width="50%" uniqueid="sk-1nAP-436">
                                    <sections>
                                      <section title="New Section" collapsible="no" uniqueid="sk-1nAP-437" showheader="false">
                                        <fields>
                                          <field uniqueid="sk-ubz-404" id="genesis__Loan_Amount__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-82Q-560" id="genesis__Initial_Advance__c">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c" value="Construction Development"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-8Xb-578" id="Total_Subsequent_Drawdown__c">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c" value="Construction Development"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-uc2-438" id="genesis__Term__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-ucK-578" id="genesis__Interest_Only_Period__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-uc5-460" id="genesis__Interest_Compounding_Frequency__c" showhelp="true" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-1n_2-734" id="CL_Contract__c" readonly="true">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-ucA-501" id="Loan_Application__c" readonly="true">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-2WQ-550" id="genesis__Due_Day__c" showhelp="true"/>
                                          <field uniqueid="sk-13KF-422" id="genesis__Expected_First_Payment_Date__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-13KN-449" id="genesis__Maturity_Date__c" snippet="fieldRenderer5"/>
                                        </fields>
                                      </section>
                                    </sections>
                                  </column>
                                  <column width="50%" uniqueid="sk-1nAP-448">
                                    <sections>
                                      <section title="New Section" collapsible="no" uniqueid="sk-1nAP-449" showheader="false">
                                        <fields>
                                          <field uniqueid="sk-ub--426" id="genesis__Interest_Rate__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-82V-574" id="First_Tranche_Prepaid_Interest__c">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c" value="Construction Development"/>
                                            </renderconditions>
                                            <enableconditions logictype="and"/>
                                          </field>
                                          <field uniqueid="sk-8Vl-626" id="Subsequent_Drawdown_Prepaid_Interest_Sum__c">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" value="Construction Development" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-3FJ9-541" id="Fixed_Rate_Term__c"/>
                                          <field uniqueid="sk-uc4-456" id="genesis__Payment_Frequency__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-ucN-597" id="genesis__Disbursement_Date__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-uc7-478" id="genesis__Balloon_Payment__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-ucC-538" id="Loan_Application__r.peer__Loan__c" readonly="true">
                                            <renderconditions logictype="and" onhidedatabehavior="keep">
                                              <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                                            </renderconditions>
                                            <enableconditions/>
                                          </field>
                                          <field uniqueid="sk-2WW-582" id="genesis__Interest_Calculation_Method__c"/>
                                          <field uniqueid="sk-13KL-445" id="genesis__Expected_Start_Date__c" snippet="fieldRenderer5"/>
                                          <field uniqueid="sk-13KU-453" id="CreatedDate" snippet="fieldRenderer5">
                                            <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                            <enableconditions/>
                                          </field>
                                        </fields>
                                      </section>
                                    </sections>
                                  </column>
                                </columns>
                              </fields>
                            </section>
                            <section collapsible="no" uniqueid="sk-8Ty-590" title="Prepaid Interest">
                              <fields>
                                <field uniqueid="sk-8Zq-1084" id="genesis__Initial_Advance__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="false"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-8Ur-1173" id="First_Tranche_Prepaid_Interest__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="false"/>
                                  </renderconditions>
                                  <enableconditions logictype="and"/>
                                </field>
                                <field uniqueid="sk-8aV-1304" id="First Drawdown Amount">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="false"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-8BS-583" id="Subsequent_Drawdown__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="true"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-8WB-573" id="Drawdown_Prepaid_Interest__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="true"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-8ZY-991" id="Total Drawdown Amount">
                                  <label>Total Drawdown Amount</label>
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="First_Drawdown_Complete__c" fieldtargetobjects="genesis__Applications__c" value="true"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                              </fields>
                              <renderconditions logictype="and">
                                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="genesis__CL_Product_Name__c" fieldtargetobjects="genesis__Applications__c" value="Construction Development"/>
                              </renderconditions>
                            </section>
                            <section title="Funding Details" collapsible="no" uniqueid="sk-cqz-1454">
                              <fields>
                                <field uniqueid="sk-cpn-1039" id="Loan_Application__r.peer__Amount_Funded__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-cpk-1014" id="Loan_Application__r.peer__Remaining_Requested_Amount__c">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-cqG-1290" id="CL_Contract__r.loan__Disbursed_Amount__c" showhelp="true">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-cqC-1218" id="CL_Contract__r.loan__Remaining_Loan_Amount__c" showhelp="true">
                                  <renderconditions logictype="and" onhidedatabehavior="keep">
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                                  </renderconditions>
                                  <enableconditions/>
                                </field>
                              </fields>
                              <renderconditions logictype="and">
                                <rendercondition type="blank" operator="!=" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="null" enclosevalueinquotes="false"/>
                              </renderconditions>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and"/>
                    </basicfieldeditor>
                  </components>
                  <styles>
                    <styleitem type="background" bgtype="none"/>
                    <styleitem type="border"/>
                    <styleitem type="size"/>
                  </styles>
                  <interactions/>
                  <renderconditions logictype="and"/>
                </wrapper>
                <wrapper uniqueid="sk-1nCi-815">
                  <components>
                    <skootable showconditions="true" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="false" showexportbuttons="false" hideheader="false" hidefooter="false" pagesize="10" alwaysresetpagination="false" createrecords="true" model="LoanWarehouse" buttonposition="" mode="read" allowcolumnreordering="true" responsive="true" uniqueid="sk-2HTq-673" heading="Warehouse" emptysearchbehavior="query">
                      <fields>
                        <field id="Warehouse__c" hideable="true" uniqueid="fi-2HTt-694" pagesize="5" redirecttype="datasourcedefault">
                          <searchfields/>
                          <filters/>
                          <renderconditions logictype="and" onhidedatabehavior="keep"/>
                          <enableconditions/>
                        </field>
                        <field id="Balance_Outstanding__c" hideable="true" uniqueid="fi-2-e1-503" readonly="true"/>
                        <field id="Active__c" hideable="true" uniqueid="fi-2rTN-533" readonly="true"/>
                        <field id="CreatedDate" hideable="true" uniqueid="fi-2HUa-733">
                          <label>Assignment Date</label>
                        </field>
                      </fields>
                      <rowactions>
                        <action type="edit"/>
                        <action type="delete"/>
                      </rowactions>
                      <massactions usefirstitemasdefault="true">
                        <action type="massupdate"/>
                        <action type="massdelete"/>
                      </massactions>
                      <views>
                        <view type="standard"/>
                      </views>
                      <searchfields/>
                      <renderconditions logictype="and"/>
                    </skootable>
                  </components>
                  <styles>
                    <styleitem type="background"/>
                    <styleitem type="border"/>
                    <styleitem type="size"/>
                  </styles>
                  <renderconditions logictype="and">
                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Warehouse Investor"/>
                  </renderconditions>
                  <interactions/>
                </wrapper>
                <wrapper uniqueid="sk-1mZd-954">
                  <components>
                    <skootable showconditions="true" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="false" showexportbuttons="false" hideheader="false" hidefooter="false" pagesize="10" alwaysresetpagination="false" createrecords="true" model="Investment_Booking" mode="read" allowcolumnreordering="true" responsive="true" uniqueid="sk-1mXv-543" heading="Bookings" instantfilters="false" emptysearchbehavior="query" allowscrollbars="true" floatheader="true" freezeleftcolumns="false">
                      <fields>
                        <field id="peer__Booking_Order__c" hideable="true" uniqueid="fi-v4m-423" pagesize="5" displaytemplate="{{peer__Investor__r.Name}}" searchtemplate="{{peer__Investor__r.Name}}   Available Funds : {{peer__Investor__r.loan__Undeployed_Funds__c}}">
                          <label>Investor</label>
                          <searchfields/>
                        </field>
                        <field id="peer__Investment_Amount__c" hideable="true" uniqueid="fi-1mYk-843"/>
                        <field id="peer__Certificate_Rate__c" hideable="true" uniqueid="fi-1mYn-863"/>
                        <field id="peer__Service_Rate__c" hideable="true" uniqueid="fi-1mYp-885"/>
                        <field id="Invest__c" hideable="true" uniqueid="fi-1s0C-652"/>
                      </fields>
                      <rowactions>
                        <action type="edit"/>
                        <action type="delete"/>
                      </rowactions>
                      <massactions usefirstitemasdefault="true">
                        <action type="massupdate"/>
                        <action type="massdelete"/>
                      </massactions>
                      <views>
                        <view type="standard"/>
                      </views>
                      <searchfields/>
                    </skootable>
                    <skootable showconditions="true" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="false" showexportbuttons="false" hideheader="false" hidefooter="false" pagesize="10" alwaysresetpagination="false" createrecords="true" model="ActiveIO" buttonposition="" mode="read" allowcolumnreordering="true" responsive="true" uniqueid="sk-1mZo-1003" heading="Active Investments" emptysearchbehavior="query" instantfilters="false" allowscrollbars="true">
                      <fields>
                        <field id="loan__Account__r.Name" hideable="true" uniqueid="fi-8ka-1916"/>
                        <field id="loan__Investment_Amount__c" hideable="true" uniqueid="fi-1mbY-1325"/>
                        <field id="loan__Priority__c" hideable="true" uniqueid="fi-1mbb-1341"/>
                        <field id="loan__Certificate_Rate__c" hideable="true" uniqueid="fi-1mbd-1363"/>
                        <field id="loan__Service_Rate__c" hideable="true" uniqueid="fi-1mbg-1396">
                          <label>Service Rate</label>
                        </field>
                        <field id="loan__Status__c" hideable="true" uniqueid="fi-1mbm-1456"/>
                        <field id="Name" hideable="true" uniqueid="fi-1mbp-1490"/>
                      </fields>
                      <rowactions>
                        <action type="edit"/>
                        <action type="delete"/>
                      </rowactions>
                      <massactions usefirstitemasdefault="true">
                        <action type="massupdate"/>
                        <action type="massdelete"/>
                      </massactions>
                      <views>
                        <view type="standard"/>
                      </views>
                      <searchfields/>
                    </skootable>
                  </components>
                  <styles>
                    <styleitem type="background"/>
                    <styleitem type="border"/>
                    <styleitem type="size"/>
                  </styles>
                  <renderconditions logictype="and">
                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="CommonApplicationModel" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="Type_of_Investor__c" fieldtargetobjects="genesis__Applications__c" value="Contributory Investor"/>
                  </renderconditions>
                </wrapper>
                <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="CommonApplicationModel" uniqueid="sk-14bE-617" mode="edit">
                  <columns>
                    <column width="100%" uniqueid="sk-14bE-613">
                      <sections>
                        <section title="Bank Details" collapsible="no" uniqueid="sk-14bk-819" showheader="false">
                          <fields>
                            <field uniqueid="sk-14bN-651" id="genesis__Account__r.Bank_Account_Name__c"/>
                            <field uniqueid="sk-14bP-657" id="genesis__Account__r.Bank_Account_Number__c"/>
                            <field uniqueid="sk-14bP-663" id="genesis__Account__r.BSB__c">
                              <label>BSB Number</label>
                            </field>
                          </fields>
                        </section>
                      </sections>
                      <renderconditions logictype="and"/>
                    </column>
                  </columns>
                </basicfieldeditor>
              </components>
              <styles>
                <styleitem type="background" bgtype="color">
                  <styles>
                    <styleitem property="background-color" value="transparent"/>
                  </styles>
                </styleitem>
                <styleitem type="border"/>
                <styleitem type="size"/>
              </styles>
              <interactions/>
              <renderconditions logictype="and"/>
            </wrapper>
          </components>
        </division>
      </divisions>
      <styles>
        <styleitem type="background" bgtype="none"/>
      </styles>
      <renderconditions logictype="and"/>
    </grid>
  </components>
  <resources>
    <labels/>
    <javascript>
      <jsitem location="inlinesnippet" name="convertToLoan" cachelocation="false">var params = arguments[0],
	$ = skuid.$;
var appModel = skuid.model.getModel('CommonApplicationModel');
var appRow = appModel.data[0];
var agree = confirm("Are you sure?");
var shareModel = skuid.model.getModel('Shareholder');
var totalShare = 0;
console.log(bankRow);
$.each(shareModel.data,function(i,row){
    totalShare = row.Share__c + totalShare;
});
if(appRow.Legal_Entity__r.Name == 'Company'){
    if(totalShare &gt;= 75 &amp;&amp; totalShare &lt;= 100){
        if(agree){ 
            $.blockUI({
                message: 'Please wait! Loan Contract is being generated!',
                onBlock:function(){
                     var ret = sforce.apex.execute('ConvertToContract','executeFun',
                    {
                        appId : appRow.Id
                    });
                    alert(ret);
                }
            });
            window.location.reload();
        }
    }
    else{
        alert('The share percentage should be more than 75% and less than 100%.');
    }
}
else{
    if(agree){ 
        if(genesis__Account__r.Bank_Account_Name__c !== null || genesis__Account__r.Bank_Account_Name__c !== undefined || genesis__Account__r.Bank_Account_Number__c !== null || genesis__Account__r.Bank_Account_Number__c !== undefined || genesis__Account__r.BSB__c !== null || genesis__Account__r.BSB__c !== undefined || genesis__Account__r.Bank_Name__c || genesis__Account__r.Bank_Name__c !== undefined){
            $.blockUI({
                message: 'Please wait! Loan Contract is being generated!',
                onBlock:function(){
                     var ret = sforce.apex.execute('ConvertToContract','executeFun',
                    {
                        appId : appRow.Id
                    });
                    alert(ret);
                }
            });
            window.location.reload();
        }
        else{
            alert('Please add bank account details of the borrower.');
        }
    }
}
window.location.reload();</jsitem>
      <jsitem location="inlinesnippet" cachelocation="false" name="LoanApplicationConvert">var params = arguments[0],
	$ = skuid.$;
var appModel = skuid.model.getModel('CommonApplicationModel');
var appRow = appModel.data[0];
var agree = confirm("Are you sure ?");
if (agree){
    var shareModel = skuid.model.getModel('Shareholder');
    var totalShare = 0;
    $.each(shareModel.data,function(i,row){
        totalShare = row.Share__c + totalShare;
    });
    console.log('appRow.Legal_Entity__r.Name'+appRow.Legal_Entity__r.Name);
    if(appRow.Legal_Entity__r.Name == 'Company'){
        if(totalShare &gt;= 75 &amp;&amp; totalShare &lt;= 100){
            console.log('Percentage is greater!');
            $.blockUI({
               message: 'Please wait!  Application is listing to marketplace...',
               onBlock:function(){
                    try {
                        var ret = sforce.apex.execute('LoanApplicationConvert','convertLoanApplicationCtrl',
                        {   
                            appId : appRow.Id
                        });
                        if(ret[0].includes('Application Converted Successfully.')){
                            alert(ret);
                            $.unblockUI();
                            window.location.reload();
                        }else{
                            alert(ret);
                            $.unblockUI();
                        }
                    } 
                    catch(err) {
                        alert(err);
                        $.unblockUI();
                    }
               }
            });
        }
        else{
            alert('The share percentage should be more than 75%.');
        }
    }
    else{
        $.blockUI({
           message: 'Please wait!  Application is listing to marketplace...',
           onBlock:function(){
                try {
                    if(genesis__Account__r.Bank_Account_Name__c !== null || genesis__Account__r.Bank_Account_Name__c !== undefined || genesis__Account__r.Bank_Account_Number__c !== null || genesis__Account__r.Bank_Account_Number__c !== undefined || genesis__Account__r.BSB__c !== null || genesis__Account__r.BSB__c !== undefined || genesis__Account__r.Bank_Name__c || genesis__Account__r.Bank_Name__c !== undefined){
                        var ret = sforce.apex.execute('LoanApplicationConvert','convertLoanApplicationCtrl',
                        {   
                            appId : appRow.Id
                        });
                        if(ret[0].includes('Application Converted Successfully.')){
                            alert(ret);
                            $.unblockUI();
                            window.location.reload();
                        }else{
                            alert(ret);
                            $.unblockUI();
                        }
                    }
                    else{
                        alert('Please add bank account details of the borrower.');
                    }
                } 
                catch(err) {
                    alert(err);
                    $.unblockUI();
                }
           }
        });
    }
}</jsitem>
      <jsitem location="inlinesnippet" cachelocation="false" name="InvestorFunding">var params = arguments[0],
	$ = skuid.$;
var appModel = skuid.model.getModel('LoanApplication');
var appRow = appModel.data[0];
var appModel1 = skuid.model.getModel('CommonApplicationModel');
var appRow1 = appModel1.data[0];

var agree = confirm("Are you sure ?");
if (agree){
    $.blockUI({
       message: 'Please wait!  The loan is getting funded!',
       onBlock:function(){
            try {
                var ret = sforce.apex.execute('Invest','makeAllInvestment',
                {   
                    iden : appRow.Id
                });
                alert(ret);
                $.unblockUI();
                window.location.reload();
                
            } catch(err) {
                alert(err);
                $.unblockUI();
            }
        }
    });
}</jsitem>
      <jsitem location="inlinesnippet" name="refreshSnippet" cachelocation="false">var params = arguments[0],
	$ = skuid.$;
window.location.reload(true);</jsitem>
      <jsitem location="inlinesnippet" name="WarehouseFunding" cachelocation="false">var params = arguments[0],
$ = skuid.$;
var appModel = skuid.model.getModel('CommonApplicationModel');
var appRow = appModel.data[0];
var loanWarehouseModel = skuid.model.getModel('ActiveWarehouseInvestor');
var loanWarehouseRow = loanWarehouseModel.data[0];
var agree = confirm('Are you sure?');
if(agree){
    if(loanWarehouseRow !== undefined){
        $.blockUI({
            message: 'Thank you for your patience! Loan is getting funded by the Warehouse.',
            onBlock:function(){
                try{
                    var ret = sforce.apex.execute('WarehouseFunding','executeFun',
                      {   
                         iden : appRow.CL_Contract__c,
                         investor : loanWarehouseRow.Warehouse__c
                     });
                    alert(ret);
                }
                catch(err) {
                    alert(err);
                    console.log(err);
                    $.unblockUI();
                }
            }
        });
    }
    else{
        alert('Warehouse not attached!');
    }
}
window.location.reload();

</jsitem>
    </javascript>
    <css/>
    <actionsequences uniqueid="sk-1hSz-322"/>
  </resources>
  <styles>
    <styleitem type="background" bgtype="none"/>
  </styles>
  <interactions/>
</skuidpage>