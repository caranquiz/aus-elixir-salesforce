<skuidpage personalizationmode="server" showsidebar="false" showheader="false" theme="CustomClassic">
  <models>
    <model id="Application" limit="" query="true" createrowifnonefound="false" datasource="salesforce" type="" sobject="genesis__Applications__c">
      <fields>
        <field id="Id"/>
        <field id="Name"/>
        <field id="genesis__CL_Product__c"/>
        <field id="genesis__CL_Product__r.Name"/>
        <field id="genesis__CL_Product__r.clcommon__Primary_Collateral_Type__c"/>
        <field id="genesis__CL_Product__r.clcommon__Primary_Collateral_Type__r.Name"/>
        <field id="genesis__CL_Product__r.clcommon__Secondary_Collateral_Type__c"/>
        <field id="genesis__CL_Product__r.clcommon__Secondary_Collateral_Type__r.Name"/>
        <field id="genesis__Account__c"/>
        <field id="genesis__Account__r.Name"/>
        <field id="genesis__Account__r.Id"/>
      </fields>
      <conditions>
        <condition type="param" value="id" field="Id" operator="=" enclosevalueinquotes="true" novaluebehavior="noquery" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="ApplicationCollateralClone" limit="" query="true" createrowifnonefound="true" sobject="genesis__Application_Collateral__c" doclone="" orderby="LastModifiedDate DESC  " datasource="salesforce">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="Name"/>
        <field id="genesis__Collateral__c"/>
        <field id="genesis__Collateral__r.Name"/>clsn

        
        <field id="genesis__Pledge_Amount__c"/>
        <field id="Id"/>
        <field id="justForCheck" uionly="true" displaytype="TEXT" label="justForCheck" defaultvaluetype="fieldvalue"/>
        <field id="CreatedById"/>
        <field id="CreatedBy.Name"/>
        <field id="CreatedDate"/>
        <field id="IsDeleted"/>
        <field id="LastModifiedById"/>
        <field id="LastModifiedBy.Name"/>
        <field id="LastModifiedDate"/>
        <field id="LastReferencedDate"/>
        <field id="LastViewedDate"/>
        <field id="OwnerId"/>
        <field id="Owner.Name"/>
        <field id="SystemModstamp"/>
        <field id="genesis__Collateral__r.clcommon__Account_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Acknowledgement_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Agricultural_Use__c"/>
        <field id="genesis__Collateral__r.clcommon__Airport__c"/>
        <field id="genesis__Collateral__r.genesis__Application__c"/>
        <field id="genesis__Collateral__r.genesis__Application__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Block__c"/>
        <field id="genesis__Collateral__r.clcommon__Style__c"/>
        <field id="genesis__Collateral__r.clcommon__Book_Entry__c"/>
        <field id="genesis__Collateral__r.clcommon__CUSIP_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Certificated__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Affixed_to_Site__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Category__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Category__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Code__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Insurance_Required__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Secures__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Type__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Value_Limit__c"/>
        <field id="genesis__Collateral__r.clcommon__Commercial_Use__c"/>
        <field id="genesis__Collateral__r.clcommon__Condo__c"/>
        <field id="genesis__Collateral__r.clcommon__Contract_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Contract_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Contracting_Party__c"/>
        <field id="genesis__Collateral__r.CreatedById"/>
        <field id="genesis__Collateral__r.CreatedBy.Name"/>
        <field id="genesis__Collateral__r.CreatedDate"/>
        <field id="genesis__Collateral__r.IsDeleted"/>
        <field id="genesis__Collateral__r.clcommon__Describe_Log_Books__c"/>
        <field id="genesis__Collateral__r.clcommon__Description__c"/>
        <field id="genesis__Collateral__r.clcommon__Dwelling__c"/>
        <field id="genesis__Collateral__r.clcommon__Existing_Beneficiaries__c"/>
        <field id="genesis__Collateral__r.clcommon__Existing_Lien__c"/>
        <field id="genesis__Collateral__r.clcommon__FAA_Cover_Letter__c"/>
        <field id="genesis__Collateral__r.clcommon__FAA_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__First_Lien__c"/>
        <field id="genesis__Collateral__r.clcommon__Gross_Tonnage__c"/>
        <field id="genesis__Collateral__r.clcommon__Held_By__c"/>
        <field id="genesis__Collateral__r.clcommon__Homestead_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__IDERA__c"/>
        <field id="genesis__Collateral__r.clcommon__Include_Collateral_Receipt__c"/>
        <field id="genesis__Collateral__r.clcommon__Include_Land__c"/>
        <field id="genesis__Collateral__r.clcommon__Inspection_Report__c"/>
        <field id="genesis__Collateral__r.clcommon__Insurance_Amount__c"/>
        <field id="genesis__Collateral__r.clcommon__Insurance_Company_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Is_UCC__c"/>
        <field id="genesis__Collateral__r.clcommon__Issued_By__c"/>
        <field id="genesis__Collateral__r.LastModifiedById"/>
        <field id="genesis__Collateral__r.LastModifiedBy.Name"/>
        <field id="genesis__Collateral__r.LastModifiedDate"/>
        <field id="genesis__Collateral__r.LastReferencedDate"/>
        <field id="genesis__Collateral__r.LastViewedDate"/>
        <field id="genesis__Collateral__r.clcommon__Leasehold__c"/>
        <field id="genesis__Collateral__r.clcommon__Letter_of_Credit_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Lot__c"/>
        <field id="genesis__Collateral__r.clcommon__Make__c"/>
        <field id="genesis__Collateral__r.clcommon__Manufactured_Home__c"/>
        <field id="genesis__Collateral__r.clcommon__Manufacturer__c"/>
        <field id="genesis__Collateral__r.clcommon__Market_Value_Limit__c"/>
        <field id="genesis__Collateral__r.clcommon__Model__c"/>
        <field id="genesis__Collateral__r.clcommon__Name_of_Insured__c"/>
        <field id="genesis__Collateral__r.clcommon__Name_of_Vessel__c"/>
        <field id="genesis__Collateral__r.clcommon__Net_Tonnage__c"/>
        <field id="genesis__Collateral__r.clcommon__Number_of_Shares__c"/>
        <field id="genesis__Collateral__r.clcommon__Number_of_Units__c"/>
        <field id="genesis__Collateral__r.clcommon__Official_Number__c"/>
        <field id="genesis__Collateral__r.OwnerId"/>
        <field id="genesis__Collateral__r.Owner.Name"/>
        <field id="genesis__Collateral__r.clcommon__Owner_Occupied__c"/>
        <field id="genesis__Collateral__r.clcommon__Owners_Interest__c"/>
        <field id="genesis__Collateral__r.clcommon__Parcel_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Policy_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Policy_Return_Address__c"/>
        <field id="genesis__Collateral__r.clcommon__Port_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Possessory_Current_Balance__c"/>
        <field id="genesis__Collateral__r.clcommon__Possessory_Type__c"/>
        <field id="genesis__Collateral__r.genesis__Primary__c"/>
        <field id="genesis__Collateral__r.clcommon__Principal_Dwelling__c"/>
        <field id="genesis__Collateral__r.genesis__Property__c"/>
        <field id="genesis__Collateral__r.genesis__Property__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Property_Tax_ID_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Property_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Purchase_Money__c"/>
        <field id="genesis__Collateral__r.clcommon__Range__c"/>
        <field id="genesis__Collateral__r.clcommon__Record_Financial_Statement__c"/>
        <field id="genesis__Collateral__r.Id"/>
        <field id="genesis__Collateral__r.RecordTypeId"/>
        <field id="genesis__Collateral__r.RecordType.Name"/>
        <field id="genesis__Collateral__r.clcommon__Refinance__c"/>
        <field id="genesis__Collateral__r.clcommon__Registration_State__c"/>
        <field id="genesis__Collateral__r.clcommon__Residential_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__Restriction_on_Sale__c"/>
        <field id="genesis__Collateral__r.clcommon__Section__c"/>
        <field id="genesis__Collateral__r.clcommon__Secure_Future_Advances__c"/>
        <field id="genesis__Collateral__r.clcommon__Secured_By_Interest_In_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__Seller_Financed_Transaction__c"/>
        <field id="genesis__Collateral__r.SystemModstamp"/>
        <field id="genesis__Collateral__r.clcommon__Timeshare__c"/>
        <field id="genesis__Collateral__r.clcommon__Township__c"/>
        <field id="genesis__Collateral__r.clcommon__UCC_Financing_Statement__c"/>
        <field id="genesis__Collateral__r.clcommon__Value__c"/>
        <field id="genesis__Collateral__r.clcommon__Value_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Value_Source__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_Color__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_ID_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_Serial_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Year__c"/>
      </fields>
      <conditions logic="">
        <condition type="blank" value="null" field="genesis__Collateral__c" operator="=" enclosevalueinquotes="false" model="SecurityAddressModel"/>
      </conditions>
      <actions>
        <action>
          <actions>
            <action type="setCondition" model="ApplicationCollateral" condition="genesis__Collateral__c" value="{{genesis__Collateral__r.Id}}"/>
            <action type="setCondition" model="Collateral" condition="C_id" value="{{genesis__Collateral__r.Id}}"/>
            <action type="setCondition" model="PledgeCollaterals_CollateralValuation" condition="collValId" value="{{genesis__Collateral__r.Id}}"/>
            <action type="setCondition" model="PledgeCollaterals_ApplicationsForCollateral" condition="collId" value="{{genesis__Collateral__r.Id}}"/>
            <action type="setCondition" model="PledgeCollaterals_ApplicationCollateralForPreviousPledgeAmount" condition="collPrevAmountId" value="{{genesis__Collateral__r.Id}}"/>
            <action type="requeryModels" behavior="standard">
              <models>
                <model>Collateral</model>
                <model>ApplicationCollateral</model>
                <model>PledgeCollaterals_CollateralValuation</model>
                <model>PledgeCollaterals_ApplicationsForCollateral</model>
                <model>PledgeCollaterals_ApplicationCollateralForPreviousPledgeAmount</model>
              </models>
            </action>
          </actions>
          <events>
            <event>row.updated</event>
          </events>
          <fields>
            <field>genesis__Collateral__c</field>
          </fields>
        </action>
      </actions>
      <groupby method="simple"/>
    </model>
    <model id="CollateralClone" limit="" query="true" createrowifnonefound="true" sobject="clcommon__Collateral__c" orderby="LastModifiedDate DESC  " datasource="salesforce">
      <fields>
        <field id="clcommon__Account_Number__c"/>
        <field id="clcommon__Acknowledgement_Type__c"/>
        <field id="clcommon__Agricultural_Use__c"/>
        <field id="clcommon__Airport__c"/>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="clcommon__Block__c"/>
        <field id="clcommon__Style__c"/>
        <field id="clcommon__CUSIP_Number__c"/>
        <field id="clcommon__Certificated__c"/>
        <field id="clcommon__Collateral_Affixed_to_Site__c"/>
        <field id="clcommon__Book_Entry__c"/>
        <field id="clcommon__Collateral_Category__c"/>
        <field id="clcommon__Collateral_Category__r.Name"/>
        <field id="clcommon__Collateral_Code__c"/>
        <field id="Name"/>
        <field id="clcommon__Collateral_Insurance_Required__c"/>
        <field id="clcommon__Collateral_Name__c"/>
        <field id="clcommon__Collateral_Secures__c"/>
        <field id="clcommon__Collateral_Type__c"/>
        <field id="clcommon__Collateral_Type__r.Name"/>
        <field id="clcommon__Collateral_Value_Limit__c"/>
        <field id="clcommon__Commercial_Use__c"/>
        <field id="clcommon__Condo__c"/>
        <field id="clcommon__Contract_Date__c"/>
        <field id="clcommon__Contract_Number__c"/>
        <field id="clcommon__Contracting_Party__c"/>
        <field id="CreatedById"/>
        <field id="CreatedBy.Name"/>
        <field id="CreatedDate"/>
        <field id="IsDeleted"/>
        <field id="clcommon__Describe_Log_Books__c"/>
        <field id="clcommon__Description__c"/>
        <field id="clcommon__Dwelling__c"/>
        <field id="clcommon__Existing_Beneficiaries__c"/>
        <field id="clcommon__Existing_Lien__c"/>
        <field id="clcommon__FAA_Cover_Letter__c"/>
        <field id="clcommon__FAA_Number__c"/>
        <field id="clcommon__First_Lien__c"/>
        <field id="clcommon__Gross_Tonnage__c"/>
        <field id="clcommon__Held_By__c"/>
        <field id="clcommon__Homestead_Property__c"/>
        <field id="clcommon__IDERA__c"/>
        <field id="clcommon__Include_Collateral_Receipt__c"/>
        <field id="clcommon__Include_Land__c"/>
        <field id="clcommon__Inspection_Report__c"/>
        <field id="clcommon__Insurance_Amount__c"/>
        <field id="clcommon__Insurance_Company_Name__c"/>
        <field id="clcommon__Is_UCC__c"/>
        <field id="clcommon__Issued_By__c"/>
        <field id="LastModifiedById"/>
        <field id="LastModifiedBy.Name"/>
        <field id="LastModifiedDate"/>
        <field id="LastReferencedDate"/>
        <field id="LastViewedDate"/>
        <field id="clcommon__Leasehold__c"/>
        <field id="clcommon__Letter_of_Credit_Date__c"/>
        <field id="clcommon__Lot__c"/>
        <field id="clcommon__Make__c"/>
        <field id="clcommon__Manufactured_Home__c"/>
        <field id="clcommon__Manufacturer__c"/>
        <field id="clcommon__Market_Value_Limit__c"/>
        <field id="clcommon__Model__c"/>
        <field id="clcommon__Name_of_Insured__c"/>
        <field id="clcommon__Name_of_Vessel__c"/>
        <field id="clcommon__Net_Tonnage__c"/>
        <field id="clcommon__Number_of_Shares__c"/>
        <field id="clcommon__Number_of_Units__c"/>
        <field id="clcommon__Official_Number__c"/>
        <field id="OwnerId"/>
        <field id="Owner.Name"/>
        <field id="clcommon__Owner_Occupied__c"/>
        <field id="clcommon__Owners_Interest__c"/>
        <field id="clcommon__Parcel_Number__c"/>
        <field id="clcommon__Policy_Number__c"/>
        <field id="clcommon__Policy_Return_Address__c"/>
        <field id="clcommon__Port_Name__c"/>
        <field id="clcommon__Possessory_Current_Balance__c"/>
        <field id="clcommon__Possessory_Type__c"/>
        <field id="genesis__Primary__c"/>
        <field id="clcommon__Principal_Dwelling__c"/>
        <field id="genesis__Property__c"/>
        <field id="genesis__Property__r.Name"/>
        <field id="clcommon__Property_Tax_ID_Number__c"/>
        <field id="clcommon__Property_Type__c"/>
        <field id="clcommon__Purchase_Money__c"/>
        <field id="clcommon__Range__c"/>
        <field id="clcommon__Record_Financial_Statement__c"/>
        <field id="Id"/>
        <field id="RecordTypeId"/>
        <field id="RecordType.Name"/>
        <field id="clcommon__Refinance__c"/>
        <field id="clcommon__Registration_State__c"/>
        <field id="clcommon__Residential_Property__c"/>
        <field id="clcommon__Restriction_on_Sale__c"/>
        <field id="clcommon__Section__c"/>
        <field id="clcommon__Secure_Future_Advances__c"/>
        <field id="clcommon__Secured_By_Interest_In_Property__c"/>
        <field id="clcommon__Seller_Financed_Transaction__c"/>
        <field id="SystemModstamp"/>
        <field id="clcommon__Timeshare__c"/>
        <field id="clcommon__Township__c"/>
        <field id="clcommon__UCC_Financing_Statement__c"/>
        <field id="clcommon__Value__c"/>
        <field id="clcommon__Value_Date__c"/>
        <field id="clcommon__Value_Source__c"/>
        <field id="clcommon__Vehicle_Color__c"/>
        <field id="clcommon__Vehicle_ID_Number__c"/>
        <field id="clcommon__Vehicle_Serial_Number__c"/>
        <field id="clcommon__Year__c"/>
        <field id="NewCollateral" uionly="true" displaytype="BOOLEAN" label="New Collateral" defaultValue="true"/>
        <field id="ExistingCollateral" uionly="true" displaytype="BOOLEAN" label="Existing Collateral" defaultValue="false"/>
        <field id="UICollateralId" uionly="true" displaytype="TEXT" label="UICollateralId"/>
      </fields>
      <conditions logic="">
        <condition type="blank" value="null" field="Id" operator="=" enclosevalueinquotes="false" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="Collateral" limit="" query="true" createrowifnonefound="false" sobject="clcommon__Collateral__c" orderby="LastModifiedDate DESC  " datasource="salesforce" doclone="">
      <fields>
        <field id="clcommon__Account_Number__c"/>
        <field id="clcommon__Acknowledgement_Type__c"/>
        <field id="clcommon__Agricultural_Use__c"/>
        <field id="clcommon__Airport__c"/>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="clcommon__Block__c"/>
        <field id="clcommon__Style__c"/>
        <field id="clcommon__CUSIP_Number__c"/>
        <field id="clcommon__Certificated__c"/>
        <field id="clcommon__Collateral_Affixed_to_Site__c"/>
        <field id="clcommon__Book_Entry__c"/>
        <field id="clcommon__Collateral_Category__c"/>
        <field id="clcommon__Collateral_Category__r.Name"/>
        <field id="clcommon__Collateral_Code__c"/>
        <field id="Name"/>
        <field id="clcommon__Collateral_Insurance_Required__c"/>
        <field id="clcommon__Collateral_Name__c"/>
        <field id="clcommon__Collateral_Secures__c"/>
        <field id="clcommon__Collateral_Type__c"/>
        <field id="clcommon__Collateral_Type__r.Name"/>
        <field id="clcommon__Collateral_Value_Limit__c"/>
        <field id="clcommon__Commercial_Use__c"/>
        <field id="clcommon__Condo__c"/>
        <field id="clcommon__Contract_Date__c"/>
        <field id="clcommon__Contract_Number__c"/>
        <field id="clcommon__Contracting_Party__c"/>
        <field id="CreatedById"/>
        <field id="CreatedBy.Name"/>
        <field id="CreatedDate"/>
        <field id="IsDeleted"/>
        <field id="clcommon__Describe_Log_Books__c"/>
        <field id="clcommon__Description__c"/>
        <field id="clcommon__Dwelling__c"/>
        <field id="clcommon__Existing_Beneficiaries__c"/>
        <field id="clcommon__Existing_Lien__c"/>
        <field id="clcommon__FAA_Cover_Letter__c"/>
        <field id="clcommon__FAA_Number__c"/>
        <field id="clcommon__First_Lien__c"/>
        <field id="clcommon__Gross_Tonnage__c"/>
        <field id="clcommon__Held_By__c"/>
        <field id="clcommon__Homestead_Property__c"/>
        <field id="clcommon__IDERA__c"/>
        <field id="clcommon__Include_Collateral_Receipt__c"/>
        <field id="clcommon__Include_Land__c"/>
        <field id="clcommon__Inspection_Report__c"/>
        <field id="clcommon__Insurance_Amount__c"/>
        <field id="clcommon__Insurance_Company_Name__c"/>
        <field id="clcommon__Is_UCC__c"/>
        <field id="clcommon__Issued_By__c"/>
        <field id="LastModifiedById"/>
        <field id="LastModifiedBy.Name"/>
        <field id="LastModifiedDate"/>
        <field id="LastReferencedDate"/>
        <field id="LastViewedDate"/>
        <field id="clcommon__Leasehold__c"/>
        <field id="clcommon__Letter_of_Credit_Date__c"/>
        <field id="clcommon__Lot__c"/>
        <field id="clcommon__Make__c"/>
        <field id="clcommon__Manufactured_Home__c"/>
        <field id="clcommon__Manufacturer__c"/>
        <field id="clcommon__Market_Value_Limit__c"/>
        <field id="clcommon__Model__c"/>
        <field id="clcommon__Name_of_Insured__c"/>
        <field id="clcommon__Name_of_Vessel__c"/>
        <field id="clcommon__Net_Tonnage__c"/>
        <field id="clcommon__Number_of_Shares__c"/>
        <field id="clcommon__Number_of_Units__c"/>
        <field id="clcommon__Official_Number__c"/>
        <field id="OwnerId"/>
        <field id="Owner.Name"/>
        <field id="clcommon__Owner_Occupied__c"/>
        <field id="clcommon__Owners_Interest__c"/>
        <field id="clcommon__Parcel_Number__c"/>
        <field id="clcommon__Policy_Number__c"/>
        <field id="clcommon__Policy_Return_Address__c"/>
        <field id="clcommon__Port_Name__c"/>
        <field id="clcommon__Possessory_Current_Balance__c"/>
        <field id="clcommon__Possessory_Type__c"/>
        <field id="genesis__Primary__c"/>
        <field id="clcommon__Principal_Dwelling__c"/>
        <field id="genesis__Property__c"/>
        <field id="genesis__Property__r.Name"/>
        <field id="clcommon__Property_Tax_ID_Number__c"/>
        <field id="clcommon__Property_Type__c"/>
        <field id="clcommon__Purchase_Money__c"/>
        <field id="clcommon__Range__c"/>
        <field id="clcommon__Record_Financial_Statement__c"/>
        <field id="Id"/>
        <field id="RecordTypeId"/>
        <field id="RecordType.Name"/>
        <field id="clcommon__Refinance__c"/>
        <field id="clcommon__Registration_State__c"/>
        <field id="clcommon__Residential_Property__c"/>
        <field id="clcommon__Restriction_on_Sale__c"/>
        <field id="clcommon__Section__c"/>
        <field id="clcommon__Secure_Future_Advances__c"/>
        <field id="clcommon__Secured_By_Interest_In_Property__c"/>
        <field id="clcommon__Seller_Financed_Transaction__c"/>
        <field id="SystemModstamp"/>
        <field id="clcommon__Timeshare__c"/>
        <field id="clcommon__Township__c"/>
        <field id="clcommon__UCC_Financing_Statement__c"/>
        <field id="clcommon__Value__c"/>
        <field id="clcommon__Value_Date__c"/>
        <field id="clcommon__Value_Source__c"/>
        <field id="clcommon__Vehicle_Color__c"/>
        <field id="clcommon__Vehicle_ID_Number__c"/>
        <field id="clcommon__Vehicle_Serial_Number__c"/>
        <field id="clcommon__Year__c"/>
        <field id="NewCollateral" uionly="true" displaytype="BOOLEAN" label="New Collateral" defaultValue="true"/>
        <field id="ExistingCollateral" uionly="true" displaytype="BOOLEAN" label="Existing Collateral" defaultValue="false"/>
        <field id="UICollateralId" uionly="true" displaytype="TEXT" label="UICollateralId"/>
        <field id="clcommon__Address__c"/>
        <field id="clcommon__City__c"/>
        <field id="create_appraisal_request" uionly="true" displaytype="BOOLEAN" label="Create Appraisal Request" ogdisplaytype="TEXT" defaultvaluetype="fieldvalue" defaultValue="false"/>
        <field id="Enter_Address_Manually__c"/>
        <field id="Rural_Area_in_acres__c"/>
        <field id="Rural_Residential_Area_in_acres__c"/>
        <field id="Unit_No__c"/>
        <field id="Street_No__c"/>
        <field id="Street_Type__c"/>
        <field id="Street_Name__c"/>
        <field id="clcommon__State__c"/>
        <field id="Country__c"/>
        <field id="clcommon__Postal_Code__c"/>
        <field id="Full_Address__c"/>
      </fields>
      <conditions logic="1 OR 2">
        <condition type="blank" value="null" field="Id" operator="=" enclosevalueinquotes="false" model="SecurityAddressModel"/>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" state="filterableoff" inactive="true" operator="=" field="Id" name="C_id" model="SecurityAddressModel"/>
      </conditions>
      <actions>
        <action>
          <actions>
            <action type="blockUI" timeout="1500" message="Got Triggred"/>
            <action type="setCondition" model="PledgeCollaterals_CollateralValuation" condition="collValId" value="{{Id}}"/>
            <action type="setCondition" model="PledgeCollaterals_ApplicationsForCollateral" condition="collId" value="{{Id}}"/>
            <action type="requeryModels" model="PledgeCollaterals_CollateralValuation" behavior="standard">
              <models>
                <model>PledgeCollaterals_CollateralValuation</model>
                <model>PledgeCollaterals_ApplicationsForCollateral</model>
              </models>
            </action>
          </actions>
          <events>
            <event>condition.activated</event>
          </events>
          <conditions>
            <condition model="SecurityAddressModel">C_id</condition>
          </conditions>
        </action>
      </actions>
    </model>
    <model id="ApplicationCollateral" limit="" query="false" createrowifnonefound="true" sobject="genesis__Application_Collateral__c" doclone="" orderby="LastModifiedDate DESC  " datasource="salesforce">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="Name"/>
        <field id="genesis__Collateral__c"/>
        <field id="genesis__Collateral__r.Name"/>
        <field id="genesis__Pledge_Amount__c"/>
        <field id="Id"/>
        <field id="genesis__Collateral__r.clcommon__Account_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Acknowledgement_Type__c"/>
        <field id="genesis__Collateral__r.genesis__Application__c"/>
        <field id="genesis__Collateral__r.genesis__Application__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Block__c"/>
        <field id="genesis__Collateral__r.clcommon__Style__c"/>
        <field id="genesis__Collateral__r.clcommon__Book_Entry__c"/>
        <field id="genesis__Collateral__r.clcommon__CUSIP_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Certificated__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Affixed_to_Site__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Category__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Category__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Code__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Insurance_Required__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Secures__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Type__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Collateral_Value_Limit__c"/>
        <field id="genesis__Collateral__r.clcommon__Commercial_Use__c"/>
        <field id="genesis__Collateral__r.clcommon__Contract_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Condo__c"/>
        <field id="genesis__Collateral__r.clcommon__Contract_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Contracting_Party__c"/>
        <field id="genesis__Collateral__r.CreatedById"/>
        <field id="genesis__Collateral__r.CreatedBy.Name"/>
        <field id="genesis__Collateral__r.CreatedDate"/>
        <field id="genesis__Collateral__r.IsDeleted"/>
        <field id="genesis__Collateral__r.clcommon__Describe_Log_Books__c"/>
        <field id="genesis__Collateral__r.clcommon__Description__c"/>
        <field id="genesis__Collateral__r.clcommon__Dwelling__c"/>
        <field id="genesis__Collateral__r.clcommon__Existing_Beneficiaries__c"/>
        <field id="genesis__Collateral__r.clcommon__Existing_Lien__c"/>
        <field id="genesis__Collateral__r.clcommon__FAA_Cover_Letter__c"/>
        <field id="genesis__Collateral__r.clcommon__FAA_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__First_Lien__c"/>
        <field id="genesis__Collateral__r.clcommon__Gross_Tonnage__c"/>
        <field id="genesis__Collateral__r.clcommon__Held_By__c"/>
        <field id="genesis__Collateral__r.clcommon__Homestead_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__IDERA__c"/>
        <field id="genesis__Collateral__r.clcommon__Include_Collateral_Receipt__c"/>
        <field id="genesis__Collateral__r.clcommon__Include_Land__c"/>
        <field id="genesis__Collateral__r.clcommon__Inspection_Report__c"/>
        <field id="genesis__Collateral__r.clcommon__Insurance_Amount__c"/>
        <field id="genesis__Collateral__r.clcommon__Insurance_Company_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Is_UCC__c"/>
        <field id="genesis__Collateral__r.clcommon__Issued_By__c"/>
        <field id="genesis__Collateral__r.LastModifiedDate"/>
        <field id="genesis__Collateral__r.LastModifiedById"/>
        <field id="genesis__Collateral__r.LastModifiedBy.Name"/>
        <field id="genesis__Collateral__r.LastReferencedDate"/>
        <field id="genesis__Collateral__r.LastViewedDate"/>
        <field id="genesis__Collateral__r.clcommon__Leasehold__c"/>
        <field id="genesis__Collateral__r.clcommon__Letter_of_Credit_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Lot__c"/>
        <field id="genesis__Collateral__r.clcommon__Make__c"/>
        <field id="genesis__Collateral__r.clcommon__Manufactured_Home__c"/>
        <field id="genesis__Collateral__r.clcommon__Manufacturer__c"/>
        <field id="genesis__Collateral__r.clcommon__Market_Value_Limit__c"/>
        <field id="genesis__Collateral__r.clcommon__Model__c"/>
        <field id="genesis__Collateral__r.clcommon__Name_of_Insured__c"/>
        <field id="genesis__Collateral__r.clcommon__Name_of_Vessel__c"/>
        <field id="genesis__Collateral__r.clcommon__Number_of_Shares__c"/>
        <field id="genesis__Collateral__r.clcommon__Net_Tonnage__c"/>
        <field id="genesis__Collateral__r.clcommon__Number_of_Units__c"/>
        <field id="genesis__Collateral__r.clcommon__Official_Number__c"/>
        <field id="genesis__Collateral__r.OwnerId"/>
        <field id="genesis__Collateral__r.Owner.Name"/>
        <field id="genesis__Collateral__r.clcommon__Owner_Occupied__c"/>
        <field id="genesis__Collateral__r.clcommon__Owners_Interest__c"/>
        <field id="genesis__Collateral__r.clcommon__Parcel_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Policy_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Policy_Return_Address__c"/>
        <field id="genesis__Collateral__r.clcommon__Port_Name__c"/>
        <field id="genesis__Collateral__r.clcommon__Possessory_Current_Balance__c"/>
        <field id="genesis__Collateral__r.genesis__Primary__c"/>
        <field id="genesis__Collateral__r.clcommon__Possessory_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Principal_Dwelling__c"/>
        <field id="genesis__Collateral__r.genesis__Property__c"/>
        <field id="genesis__Collateral__r.genesis__Property__r.Name"/>
        <field id="genesis__Collateral__r.clcommon__Property_Tax_ID_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Property_Type__c"/>
        <field id="genesis__Collateral__r.clcommon__Purchase_Money__c"/>
        <field id="genesis__Collateral__r.clcommon__Range__c"/>
        <field id="genesis__Collateral__r.clcommon__Record_Financial_Statement__c"/>
        <field id="genesis__Collateral__r.Id"/>
        <field id="genesis__Collateral__r.RecordTypeId"/>
        <field id="genesis__Collateral__r.RecordType.Name"/>
        <field id="genesis__Collateral__r.clcommon__Refinance__c"/>
        <field id="genesis__Collateral__r.clcommon__Registration_State__c"/>
        <field id="genesis__Collateral__r.clcommon__Residential_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__Restriction_on_Sale__c"/>
        <field id="genesis__Collateral__r.clcommon__Section__c"/>
        <field id="genesis__Collateral__r.clcommon__Secure_Future_Advances__c"/>
        <field id="genesis__Collateral__r.clcommon__Secured_By_Interest_In_Property__c"/>
        <field id="genesis__Collateral__r.clcommon__Seller_Financed_Transaction__c"/>
        <field id="genesis__Collateral__r.SystemModstamp"/>
        <field id="genesis__Collateral__r.clcommon__Timeshare__c"/>
        <field id="genesis__Collateral__r.clcommon__Township__c"/>
        <field id="genesis__Collateral__r.clcommon__UCC_Financing_Statement__c"/>
        <field id="genesis__Collateral__r.clcommon__Value__c"/>
        <field id="genesis__Collateral__r.clcommon__Value_Date__c"/>
        <field id="genesis__Collateral__r.clcommon__Value_Source__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_Color__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_ID_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Vehicle_Serial_Number__c"/>
        <field id="genesis__Collateral__r.clcommon__Year__c"/>
        <field id="justForCheck" uionly="true" displaytype="TEXT" label="check"/>
      </fields>
      <conditions logic="">
        <condition type="param" value="id" field="genesis__Application__c" operator="=" novaluebehavior="noquery" state="" inactive="false" enclosevalueinquotes="true" model="SecurityAddressModel"/>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="genesis__Collateral__c" state="filterableoff" inactive="true" name="genesis__Collateral__c" operator="=" model="SecurityAddressModel"/>
      </conditions>
      <actions>
        <action>
          <actions>
            <action type="updateRow" fieldmodel="ApplicationCollateral" affectedrows="context" field="CurrencyIsoCode" enclosevalueinquotes="true" value="{{$Model.Application.data.0.CurrencyIsoCode}}"/>
          </actions>
          <events>
            <event>row.created</event>
            <event>row.updated</event>
          </events>
          <fields>
            <field>genesis__Pledge_Amount__c</field>
          </fields>
        </action>
      </actions>
      <groupby method="simple"/>
    </model>
    <model id="CollateralTypeModel" limit="" query="true" createrowifnonefound="false" type="" sobject="clcommon__Collateral_Type__c" datasource="salesforce">
      <fields>
        <field id="Name"/>
        <field id="Id"/>
      </fields>
      <conditions/>
      <actions/>
    </model>
    <model id="ApplicationCollateralNew" limit="" query="false" createrowifnonefound="true" datasource="salesforce" type="" sobject="genesis__Application_Collateral__c">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="genesis__Collateral__c"/>
        <field id="genesis__Collateral__r.Name"/>
        <field id="genesis__Pledge_Amount__c"/>
      </fields>
      <conditions>
        <condition type="blank" value="null" field="Id" operator="=" enclosevalueinquotes="false" model="SecurityAddressModel"/>
      </conditions>
      <actions>
        <action>
          <actions>
            <action type="updateRow" fieldmodel="ApplicationCollateral" affectedrows="context" field="genesis__Pledge_Amount__c" enclosevalueinquotes="false" value="{{$Model.ApplicationCollateralNew.data.0.genesis__Pledge_Amount__c}}"/>
          </actions>
          <events>
            <event>row.updated</event>
          </events>
          <fields>
            <field>genesis__Pledge_Amount__c</field>
          </fields>
        </action>
      </actions>
    </model>
    <model id="PledgeCollaterals_CollateralTypeCategoryAssoc" query="true" createrowifnonefound="true" datasource="salesforce" type="" sobject="clcommon__Collateral_Category_Type_Association__c">
      <fields>
        <field id="Name"/>
        <field id="clcommon__Collateral_Category__c"/>
        <field id="clcommon__Collateral_Category__r.Name"/>
        <field id="clcommon__Collateral_Type__c"/>
        <field id="clcommon__Collateral_Type__r.Name"/>
        <field id="Id"/>
      </fields>
      <conditions>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" operator="=" field="clcommon__Collateral_Type__r.Name" state="filterableoff" inactive="true" name="collTypeName" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="PledgeCollaterals_CollateralValuation" limit="" query="false" createrowifnonefound="false" datasource="salesforce" type="" sobject="clcommon__Collateral_Valuation__c">
      <fields>
        <field id="genesis__Appraisal_Bid__c"/>
        <field id="genesis__Appraisal_Bid__r.Name"/>
        <field id="clcommon__Appraisal_Date__c"/>
        <field id="genesis__Appraisal_Document_ID__c"/>
        <field id="clcommon__Appraisal_Value__c"/>
        <field id="clcommon__Appraised_Value__c"/>
        <field id="genesis__Attachment_URL__c"/>
        <field id="clcommon__Collateral__c"/>
        <field id="clcommon__Collateral__r.Name"/>
        <field id="Name"/>
        <field id="Id"/>
        <field id="clcommon__Active__c"/>
        <field id="RemainingValue" uionly="true" displaytype="CURRENCY" label="Remaining Value" ogdisplaytype="TEXT" precision="9" scale="2" readonly="true"/>
      </fields>
      <conditions logic="1 AND 2">
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="clcommon__Collateral__r.Id" state="filterableoff" inactive="true" name="collValId" operator="=" model="SecurityAddressModel"/>
        <condition type="fieldvalue" value="true" enclosevalueinquotes="false" field="clcommon__Active__c" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="PledgeCollaterals_OrgParams" limit="" query="true" createrowifnonefound="false" datasource="salesforce" sobject="genesis__Org_Parameters__c">
      <fields>
        <field id="genesis__Use_Appraisal_Management__c"/>
      </fields>
      <conditions/>
      <actions/>
    </model>
    <model id="PledgeCollaterals_ApplicationsForCollateral" limit="" query="false" createrowifnonefound="false" datasource="salesforce" type="" sobject="genesis__Application_Collateral__c">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="Name"/>
        <field id="genesis__Collateral__c"/>
        <field id="genesis__Collateral__r.Name"/>
        <field id="genesis__Pledge_Amount__c"/>
      </fields>
      <conditions>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="genesis__Collateral__r.Id" state="filterableoff" inactive="true" name="collId" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="PledgeCollaterals_AppraisalRequest" limit="20" query="true" createrowifnonefound="true" datasource="salesforce" type="" sobject="genesis__Appraisal_Request__c">
      <fields>
        <field id="genesis__Accepted_Bids__c"/>
        <field id="genesis__Application_Collateral__c"/>
        <field id="genesis__Application_Collateral__r.Name"/>
        <field id="genesis__Appraisal_Ordered_By__c"/>
        <field id="genesis__Appraisal_Ordered_By__r.Name"/>
        <field id="Name"/>
        <field id="genesis__City__c"/>
        <field id="genesis__Collateral_Category__c"/>
        <field id="genesis__Collateral_Description__c"/>
        <field id="genesis__Collateral_Valuation__c"/>
        <field id="genesis__Collateral_Valuation__r.Name"/>
        <field id="genesis__Due_Date__c"/>
        <field id="genesis__Expired_Bids__c"/>
        <field id="genesis__Pending_Bids__c"/>
        <field id="genesis__Postal_Code__c"/>
        <field id="Id"/>
        <field id="genesis__Rejected_Bids__c"/>
        <field id="genesis__State__c"/>
        <field id="genesis__Status__c"/>
        <field id="genesis__Street_Address__c"/>
        <field id="genesis__Submitted_Bids__c"/>
        <field id="genesis__Total_Bids__c"/>
        <field id="genesis__Collateral_Valuation__r.genesis__Appraisal_Bid__c"/>
        <field id="genesis__Collateral_Valuation__r.genesis__Appraisal_Bid__r.Name"/>
        <field id="genesis__Collateral_Valuation__r.clcommon__Appraisal_Date__c"/>
        <field id="genesis__Collateral_Valuation__r.genesis__Appraisal_Document_ID__c"/>
        <field id="genesis__Collateral_Valuation__r.clcommon__Appraisal_Value__c"/>
        <field id="genesis__Collateral_Valuation__r.genesis__Attachment_URL__c"/>
        <field id="genesis__Collateral_Valuation__r.clcommon__Appraised_Value__c"/>
        <field id="genesis__Collateral_Valuation__r.clcommon__Collateral__c"/>
        <field id="genesis__Collateral_Valuation__r.clcommon__Collateral__r.Name"/>
        <field id="genesis__Application_Collateral__r.genesis__Collateral__c"/>
        <field id="genesis__Application_Collateral__r.genesis__Collateral__r.Name"/>
        <field id="genesis__Application_Collateral__r.genesis__Collateral__r.clcommon__Collateral_Category__c"/>
        <field id="genesis__Application_Collateral__r.genesis__Collateral__r.clcommon__Collateral_Category__r.Name"/>
        <field id="genesis__Application_Collateral__r.genesis__Collateral__r.Id"/>
      </fields>
      <conditions>
        <condition type="blank" value="null" field="Id" operator="=" enclosevalueinquotes="false" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="PledgeCollaterals_AppraisalRequestFetched" limit="" query="false" createrowifnonefound="false" datasource="salesforce" type="" sobject="genesis__Appraisal_Request__c">
      <fields>
        <field id="genesis__Accepted_Bids__c"/>
        <field id="genesis__Application_Collateral__c"/>
        <field id="genesis__Application_Collateral__r.Name"/>
        <field id="genesis__Appraisal_Ordered_By__c"/>
        <field id="genesis__Appraisal_Ordered_By__r.Name"/>
        <field id="Name"/>
        <field id="genesis__City__c"/>
        <field id="genesis__Collateral_Category__c"/>
        <field id="genesis__Collateral_Description__c"/>
        <field id="genesis__Collateral_Valuation__c"/>
        <field id="genesis__Collateral_Valuation__r.Name"/>
        <field id="genesis__Due_Date__c"/>
        <field id="genesis__Expired_Bids__c"/>
        <field id="genesis__Pending_Bids__c"/>
        <field id="genesis__Postal_Code__c"/>
        <field id="Id"/>
        <field id="genesis__Rejected_Bids__c"/>
        <field id="genesis__State__c"/>
        <field id="genesis__Status__c"/>
        <field id="genesis__Street_Address__c"/>
        <field id="genesis__Submitted_Bids__c"/>
        <field id="SystemModstamp"/>
        <field id="genesis__Total_Bids__c"/>
      </fields>
      <conditions>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="Id" state="filterableoff" inactive="true" name="appReqFetchedId" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="PledgeCollaterals_ApplicationCollateralForPreviousPledgeAmount" limit="" query="false" createrowifnonefound="false" datasource="salesforce" type="" sobject="genesis__Application_Collateral__c" doclone="">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="Name"/>
        <field id="genesis__Collateral__c"/>
        <field id="genesis__Collateral__r.Name"/>
        <field id="genesis__Pledge_Amount__c"/>
        <field id="Id"/>
      </fields>
      <conditions>
        <condition type="param" value="id" field="genesis__Application__r.Id" operator="=" enclosevalueinquotes="true" novaluebehavior="noquery" model="SecurityAddressModel"/>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="genesis__Collateral__r.Id" state="filterableoff" inactive="true" name="collPrevAmountId" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="CollateralOwner" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" sobject="clcommon__Collateral_Owner__c" doclone="">
      <fields>
        <field id="clcommon__Account__c"/>
        <field id="clcommon__Account__r.Name"/>
        <field id="clcommon__Collateral__c"/>
        <field id="clcommon__Collateral__r.Name"/>
        <field id="Name"/>
        <field id="clcommon__Ownership__c"/>
        <field id="Id"/>
        <field id="clcommon__Collateral__r.Id"/>
        <field id="clcommon__Account__r.Id"/>
      </fields>
      <conditions logic="1 ">
        <condition type="modelmerge" value="" field="clcommon__Collateral__c" fieldtargetobjects="clcommon__Collateral__c" operator="=" mergefield="Id" novaluebehavior="noquery" model="Collateral" enclosevalueinquotes="true"/>
        <condition type="fieldvalue" value="" enclosevalueinquotes="true" field="clcommon__Collateral__c" fieldtargetobjects="clcommon__Collateral__c" state="filterableoff" inactive="true" name="clcommon__Collateral__c__fil" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="ApplicationParties" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" type="" sobject="clcommon__Party__c">
      <fields>
        <field id="clcommon__Account__c"/>
        <field id="clcommon__Account__r.Name"/>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="Id"/>
      </fields>
      <conditions>
        <condition type="param" value="id" field="genesis__Application__c" fieldtargetobjects="genesis__Applications__c" operator="=" enclosevalueinquotes="true" novaluebehavior="noquery" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model id="CollateralType" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" type="" sobject="clcommon__Collateral_Type__c">
      <fields>
        <field id="Name"/>
        <field id="Id"/>
      </fields>
      <conditions logic="1 OR 2">
        <condition type="modelmerge" value="" field="Id" operator="=" model="Application" enclosevalueinquotes="true" mergefield="genesis__CL_Product__r.clcommon__Primary_Collateral_Type__c" novaluebehavior="noquery" fieldtargetobjects="clcommon__Collateral_Type__c"/>
        <condition type="modelmerge" value="" field="Id" operator="=" model="Application" enclosevalueinquotes="true" mergefield="genesis__CL_Product__r.clcommon__Secondary_Collateral_Type__c" novaluebehavior="noquery" fieldtargetobjects="clcommon__Collateral_Type__c"/>
      </conditions>
      <actions/>
    </model>
    <model id="ApplicationParty" limit="20" query="true" createrowifnonefound="false" datasource="salesforce" type="" sobject="clcommon__Party__c">
      <fields>
        <field id="genesis__Application__c"/>
        <field id="genesis__Application__r.Name"/>
        <field id="genesis__Application__r.Id"/>
        <field id="clcommon__Account__c"/>
        <field id="clcommon__Account__r.Name"/>
        <field id="genesis__Application__r.genesis__Account__c"/>
        <field id="genesis__Application__r.genesis__Account__r.Name"/>
        <field id="clcommon__Account__r.Id"/>
        <field id="genesis__Is_Internal_User__c"/>
      </fields>
      <conditions logic="1 AND 2">
        <condition type="modelmerge" value="" field="genesis__Application__c" fieldtargetobjects="genesis__Applications__c" operator="=" model="Application" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="noquery"/>
        <condition type="fieldvalue" value="false" enclosevalueinquotes="false" field="genesis__Is_Internal_User__c" model="SecurityAddressModel"/>
      </conditions>
      <actions/>
    </model>
    <model query="true" createrowifnonefound="true" datasource="salesforce" id="SecurityAddressModel" sobject="clcommon__Address__c">
      <fields>
        <field id="Collateral__c"/>
        <field id="Collateral__r.Name"/>
        <field id="Collateral__r.Id"/>
        <field id="Name"/>
        <field id="clcommon__City__c"/>
        <field id="clcommon__Country__c"/>
        <field id="clcommon__County__c"/>
        <field id="Full_Address__c"/>
        <field id="clcommon__State_Province__c"/>
        <field id="clcommon__Street_Address__c"/>
        <field id="Street_No__c"/>
        <field id="Street_Type__c"/>
        <field id="clcommon__Zip_Code__c"/>
        <field id="Id"/>
      </fields>
      <conditions>
        <condition type="modelmerge" value="" field="Collateral__c" fieldtargetobjects="clcommon__Collateral__c" operator="=" model="Collateral" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/>
      </conditions>
      <actions/>
    </model>
  </models>
  <components>
    <wizard deferstepcontentsrendering="true" buttonslocation="top" uniqueid="collateralWizard">
      <steps>
        <step stepid="step1" steplabel="">
          <components>
            <grid uniqueid="sk-MK_bm-178">
              <divisions>
                <division behavior="flex" minwidth="45%" ratio="1" verticalalign="bottom">
                  <components>
                    <pagetitle uniqueid="title1" model="Collateral" cssclass="">
                      <actions>
                        <action type="custom" label="New Security" icon="fa-star" snippet="newCollateral" uniqueid="newcollateralid" cssclass="alignments">
                          <renderconditions logictype="and"/>
                          <enableconditions/>
                          <hotkeys/>
                        </action>
                        <action type="custom" label="Existing Security" icon="fa-search" snippet="existingCollateral" uniqueid="existingCollateralId" cssclass="alignments"/>
                      </actions>
                      <subtitle>Is the security new or existing?</subtitle>
                      <renderconditions logictype="and"/>
                    </pagetitle>
                  </components>
                </division>
                <division behavior="flex" verticalalign="top" minwidth="180px" ratio="1">
                  <components/>
                </division>
                <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                  <components/>
                </division>
              </divisions>
              <styles>
                <styleitem type="background" bgtype="none"/>
              </styles>
              <renderconditions logictype="and"/>
            </grid>
          </components>
          <actions>
            <action uniqueid="sk-MK614-76" type="multi" stepid="step2" label="Next" icon="fa-arrow-right" window="self" snippet="">
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
              </renderconditions>
              <enableconditions/>
              <hotkeys/>
              <actions>
                <action type="cancel">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="createRow" fieldmodel="Collateral" model="Collateral" appendorprepend="prepend" defaultmodefornewitems="edit"/>
                <action type="navigateToStep" stepid="step2"/>
                <action type="custom" snippet="buttonHighlight"/>
              </actions>
            </action>
            <action type="multi" label="Next" stepid="step1" window="self" icon="fa-arrow-right" uniqueid="sk-3KOfim-2056">
              <actions>
                <action type="cancel">
                  <models>
                    <model>ApplicationCollateralClone</model>
                  </models>
                </action>
                <action type="createRow" model="ApplicationCollateralClone" appendorprepend="prepend" defaultmodefornewitems="edit"/>
                <action type="navigateToStep" stepid="step2"/>
              </actions>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="ExistingCollateral" value="true"/>
              </renderconditions>
              <enableconditions/>
            </action>
          </actions>
        </step>
        <step stepid="step2" steplabel="">
          <components>
            <grid uniqueid="topPanelGrid">
              <divisions>
                <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                  <components>
                    <pagetitle uniqueid="PanelForAll" model="Collateral">
                      <actions/>
                    </pagetitle>
                    <pagetitle uniqueid="topPanel" model="Collateral">
                      <subtitle>What type of security would you like to create?</subtitle>
                      <actions/>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="NewCollateral" value="true"/>
                      </renderconditions>
                    </pagetitle>
                    <pagetitle uniqueid="topPanelExisting" model="Collateral">
                      <actions/>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ExistingCollateral" value="true"/>
                      </renderconditions>
                      <subtitle>Select Security</subtitle>
                    </pagetitle>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" uniqueid="sk-oDe0H-717" mode="edit" layout="">
                      <columns>
                        <column width="33.3%">
                          <sections/>
                        </column>
                        <column width="33.3%">
                          <sections>
                            <section title="New Section" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__c" required="true" optionsource="" uniqueid="sk-3KOfi--2083" pagesize="5" redirecttype="datasourcedefault">
                                  <searchfields/>
                                  <filters>
                                    <filter type="modelmerge" operator="in" field="Id" fieldtargetobjects="clcommon__Collateral_Type__c" value="" model="CollateralType" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/>
                                  </filters>
                                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                  <enableconditions/>
                                  <label>Security Type</label>
                                </field>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="33.3%">
                          <sections/>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="NewCollateral" value="true"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="ApplicationCollateralClone" uniqueid="sk-x4tOL-647" mode="edit">
                      <columns layoutmode="fixed">
                        <column width="33.3%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                        <column width="33.3%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields>
                                <field id="genesis__Collateral__c" displaytemplate="{{clcommon__Collateral_Name__c}} [Collateral Type: {{clcommon__Collateral_Type__r.Name}}]" searchtemplate="{{clcommon__Collateral_Name__c}} [Collateral Type: {{clcommon__Collateral_Type__r.Name}}]" tokenizesearch="true" uniqueid="sk-3KOfjD-2096" pagesize="5" redirecttype="datasourcedefault">
                                  <searchfields usesosl="false" soslfields="Name Fields">
                                    <searchfield query="true" return="true" show="true" field="Name" operator="contains"/>
                                    <searchfield query="true" return="true" show="true" field="clcommon__Collateral_Type__r.Name" operator="contains"/>
                                    <searchfield query="true" return="true" show="true" field="clcommon__Collateral_Name__c" operator="contains"/>
                                  </searchfields>
                                  <filters>
                                    <filter type="modelmerge" operator="in" field="clcommon__Collateral_Type__c" fieldtargetobjects="clcommon__Collateral_Type__c" value="" model="CollateralType" enclosevalueinquotes="true" mergefield="Id" novaluebehavior="deactivate"/>
                                  </filters>
                                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                  <enableconditions/>
                                  <label>Security Type</label>
                                </field>
                              </fields>
                            </section>
                          </sections>
                          <renderconditions logictype="and"/>
                        </column>
                        <column width="33.3%">
                          <sections>
                            <section title="New Section" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ExistingCollateral" value="true"/>
                      </renderconditions>
                    </basicfieldeditor>
                  </components>
                </division>
              </divisions>
              <styles>
                <styleitem type="background" bgtype="none"/>
              </styles>
              <renderconditions logictype="and"/>
            </grid>
          </components>
          <actions>
            <action uniqueid="sk-MK615-77" type="multi" stepid="step1" label="Previous" icon="fa-arrow-left" window="self" snippet="step2PrevButton">
              <actions>
                <action type="cancel" model="Collateral"/>
                <action type="deactivateCondition" model="Collateral" condition="C_id"/>
                <action type="custom" stepid="step2PrevButton" snippet="step2PrevButton"/>
              </actions>
              <hotkeys/>
              <renderconditions logictype="and"/>
              <enableconditions/>
            </action>
            <action uniqueid="sk-MK615-78" type="multi" label="Next" icon="fa-arrow-right" window="self" stepid="step3" snippet="typeValidation">
              <hotkeys/>
              <actions>
                <action type="custom" snippet="typeValidation"/>
              </actions>
              <renderconditions logictype="and"/>
              <enableconditions/>
            </action>
          </actions>
        </step>
        <step stepid="step3" steplabel="">
          <components>
            <grid uniqueid="sk-MNAgt-359">
              <divisions>
                <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                  <components>
                    <pagetitle uniqueid="detailsPage" model="Collateral">
                      <actions/>
                      <subtitle>Security Information</subtitle>
                      <renderconditions logictype="and"/>
                    </pagetitle>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" uniqueid="commonEditor" mode="edit" layout="" cssclass="MagicForm">
                      <columns layoutmode="fixed">
                        <column width="100%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field uniqueid="sk-ue7-2024" type="COMBO" editmodebehavior="autopopup" allowhtml="true">
                                  <label>Security Address</label>
                                  <template>&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;script&gt;
        var autocomplete,
            accModel = skuid.model.getModel('Collateral'),
            accRow = accModel.data[0],
            autoCompleteInput = document.getElementById('CollateralAddressC');
            //Google Place Initialize
            function initAutocomplete() {
                autocomplete = new google.maps.places.Autocomplete(autoCompleteInput, {types: ['geocode']});
               
                //Restrict the google place only show the specified country address and not allow other country address.
                autocomplete.setComponentRestrictions({
                   country: ["aus","in"]
                });
                
                google.maps.event.addListener(autocomplete, "place_changed", function() {
                  var place = autocomplete.getPlace();
                  autoCompleteInput.value = place.formatted_address;
                  if(place){
                    var formatted_address = place.formatted_address;
                    var placeComponent = place.address_components;
                    fillInAddress(placeComponent,formatted_address);
                  }else{
                    alert('Address not found.Please check your address details.');
                  }
                });
            }
            
            //Address data fillup for each type.
            function fillInAddress(placeComponent,formatted_address) {
              $.each(placeComponent,function(i,row){ 
                    console.log(placeComponent); 
                    if(row.types=='premise' || row.types=='route'){
                        //accRow.OtherStreet = row.long_name ;
                         accModel.updateRow(accRow,{
                            Street_Name__c : row.long_name.split(" ")[0]
                        });
                        accModel.updateRow(accRow,{
                            Street_Type__c : row.long_name.split(" ")[1]
                        });
                        console.log('OtherStreet'+row.long_name+'====='+accRow.OtherStreet);
                    }
                    else if(row.types.includes('sublocality_level_1')){
                        //accRow.OtherStreet = accRow.OtherStreet + ', ' + row.long_name ;
                        accModel.updateRow(accRow,{
                            Street_Name__c : row.long_name.split(" ")[0]
                        });
                        accModel.updateRow(accRow,{
                            Street_Type__c : row.long_name.split(" ")[1]
                        });
                    }
                    else if(row.types.includes('locality')){
                        //accRow.OtherCity = row.long_name ;
                        accModel.updateRow(accRow,{
                            clcommon__City__c : row.long_name
                        });
                        console.log('OtherCity'+row.long_name+'====='+accRow.OtherCity);
                    }
                    else if(row.types.includes('administrative_area_level_1')){
                        //accRow.OtherState = row.long_name ;
                        accModel.updateRow(accRow,{
                            clcommon__State__c : row.long_name
                        });
                        console.log('OtherState'+row.long_name+'====='+accRow.OtherState);
                    }
                    else if(row.types.includes('country')){
                        //accRow.OtherCountry = row.long_name ;
                        accModel.updateRow(accRow,{
                            Country__c : row.long_name
                        });
                        console.log('OtherCountry'+row.long_name+'====='+accRow.OtherCountry);
                    }
                    else if(row.types.includes('street_number')){
                        //accRow.OtherCountry = row.long_name ;
                        accModel.updateRow(accRow,{
                            Street_No__c : row.long_name
                        });
                        console.log('OtherCountry'+row.long_name+'====='+accRow.OtherCountry);
                    }
                    else if(row.types.includes('postal_code')){
                        //accRow.OtherPostalCode = row.long_name ;
                        accModel.updateRow(accRow,{
                            clcommon__Postal_Code__c : row.long_name
                        });
                        console.log('OtherPostalCode'+row.long_name+'====='+accRow.OtherPostalCode);
                    }
                    accModel.updateRow(accRow,{
                        Full_Address__c : formatted_address
                    });

              }) ; 
            }

            //Get and Set the location.
            function geolocate() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function(position) {
                      var geolocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                      };
                      var circle = new google.maps.Circle(
                          {center: geolocation, radius: position.coords.accuracy});
                      autocomplete.setBounds(circle.getBounds());
                    });
                }
            }
        &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="locationField"&gt;
        &lt;input id="CollateralAddressC" placeholder="Enter your address" onFocus="geolocate()" type="text" /&gt;
    &lt;/div&gt;
    &lt;!-- Replace the value of the key parameter with your own API key. --&gt;
    &lt;script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRh8kZcxEfA2gb31x2_RtuPk2YIlECgNA&amp;&amp;libraries=places&amp;callback=initAutocomplete"&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</template>
                                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                  <enableconditions/>
                                </field>
                                <field uniqueid="sk-3DJb-1910" id="Enter_Address_Manually__c"/>
                              </fields>
                            </section>
                            <section title="New Section" collapsible="no" uniqueid="sk-3CoA-1900" showheader="false">
                              <fields>
                                <columns uniqueid="sk-3CoB-1921" layoutmode="fixed">
                                  <column width="100%" uniqueid="sk-3oEo-1891">
                                    <sections>
                                      <section title="New Section" collapsible="no" uniqueid="sk-3oEo-1892" showheader="false">
                                        <fields>
                                          <field uniqueid="sk-3EoX-2694" id="Full_Address__c">
                                            <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                            <enableconditions logictype="and">
                                              <condition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" field="Id" fieldtargetobjects="clcommon__Collateral__c" value="123"/>
                                            </enableconditions>
                                          </field>
                                          <columns uniqueid="sk-3oEr-1918" layoutmode="fixed">
                                            <column width="50%" uniqueid="sk-3oEr-1905">
                                              <sections>
                                                <section title="New Section" collapsible="no" uniqueid="sk-3oEr-1906" showheader="false">
                                                  <fields>
                                                    <field uniqueid="sk-3DMK-3774" id="Unit_No__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMQ-3824" id="Street_Name__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMT-3851" id="clcommon__City__c">
                                                      <label>Suburb</label>
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMc-3951" id="clcommon__Postal_Code__c">
                                                      <label>Post Code</label>
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                  </fields>
                                                </section>
                                              </sections>
                                            </column>
                                            <column width="50%" uniqueid="sk-3oEr-1923">
                                              <sections>
                                                <section title="New Section" collapsible="no" uniqueid="sk-3oEr-1924" showheader="false">
                                                  <fields>
                                                    <field uniqueid="sk-3DMM-3800" id="Street_No__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMN-3812" id="Street_Type__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMY-3901" id="clcommon__State__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                    <field uniqueid="sk-3DMb-3929" id="Country__c">
                                                      <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                      <enableconditions logictype="and">
                                                        <condition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" field="Enter_Address_Manually__c" fieldtargetobjects="clcommon__Collateral__c" value="true" model="SecurityAddressModel"/>
                                                      </enableconditions>
                                                    </field>
                                                  </fields>
                                                </section>
                                              </sections>
                                            </column>
                                          </columns>
                                        </fields>
                                      </section>
                                    </sections>
                                  </column>
                                </columns>
                              </fields>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and"/>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" uniqueid="mobileHomeEquEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" valuehalign="" type="" uniqueid="sk-3KOfjk-2141">
                                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                  <enableconditions/>
                                </field>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOfjm-2144"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOfjo-2147"/>
                                <field id="clcommon__Manufactured_Home__c" valuehalign="" type="" uniqueid="sk-3KOfjp-2150"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOfjq-2153"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOfjs-2156"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOfjt-2159"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOfju-2162"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfjv-2165"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfjx-2168"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfjy-2171"/>
                                <field id="clcommon__Secure_Future_Advances__c" valuehalign="" type="" uniqueid="sk-3KOfjz-2174"/>
                                <field id="clcommon__Number_of_Units__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfj_-2177"/>
                                <field id="clcommon__Residential_Property__c" valuehalign="" type="" uniqueid="sk-3KOfk0-2180"/>
                                <field id="clcommon__Owner_Occupied__c" valuehalign="" type="" uniqueid="sk-3KOfk2-2183"/>
                                <field id="clcommon__Dwelling__c" valuehalign="" type="" uniqueid="sk-3KOfk4-2186"/>
                                <field id="clcommon__Restriction_on_Sale__c" valuehalign="" type="" uniqueid="sk-3KOfk6-2189"/>
                                <field id="clcommon__First_Lien__c" valuehalign="" type="" uniqueid="sk-3KOfkA-2192"/>
                                <field id="clcommon__Existing_Lien__c" valuehalign="" type="" uniqueid="sk-3KOfkC-2195"/>
                                <field id="clcommon__Include_Land__c" valuehalign="" type="" uniqueid="sk-3KOfkD-2198"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="multiple" operator="in" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="" enclosevalueinquotes="true">
                          <values>
                            <value>Mobile Home</value>
                            <value>Equipment</value>
                          </values>
                        </rendercondition>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" uniqueid="pleaseureBotReceivablesEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfkO-2210"/>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOfkP-2213"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOfkR-2216"/>
                                <field id="clcommon__Manufacturer__c" valuehalign="" type="" uniqueid="sk-3KOfkS-2219"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOfkU-2222"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOfkU-2225"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOfkY-2228"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOfka-2231"/>
                                <field id="clcommon__Describe_Log_Books__c" valuehalign="" type="" uniqueid="sk-3KOfkc-2234"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfkd-2237"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfkf-2240"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfkg-2243"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="multiple" operator="in" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" value="" field="clcommon__Collateral_Type__r.Name" enclosevalueinquotes="true">
                          <values>
                            <value>Pleasure Boat</value>
                            <value>Receivables</value>
                          </values>
                        </rendercondition>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" uniqueid="shipEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfkv-2255"/>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOfkw-2258"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOfkx-2261"/>
                                <field id="clcommon__Manufacturer__c" valuehalign="" type="" uniqueid="sk-3KOfky-2264"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOfkz-2267"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOfk_-2270"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOfk--2273"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOfl1-2276"/>
                                <field id="clcommon__Port_Name__c" valuehalign="" type="" uniqueid="sk-3KOfl2-2279"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfl3-2282"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfl4-2285"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfl5-2288"/>
                                <field id="clcommon__Name_of_Vessel__c" valuehalign="" type="" uniqueid="sk-3KOfl7-2291"/>
                                <field id="clcommon__Official_Number__c" valuehalign="" type="" uniqueid="sk-3KOfl9-2294"/>
                                <field id="clcommon__Gross_Tonnage__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOflA-2297"/>
                                <field id="clcommon__Net_Tonnage__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOflB-2300"/>
                                <field id="clcommon__Owners_Interest__c" valuehalign="" type="" uniqueid="sk-3KOflC-2303"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Ship"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="aircraftEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOflQ-2315" valuehalign="" type="">
                                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                  <enableconditions/>
                                </field>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOflR-2318"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOflT-2321"/>
                                <field id="clcommon__Manufacturer__c" valuehalign="" type="" uniqueid="sk-3KOflT-2324"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOflV-2327"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOflX-2330"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOflX-2333"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOflZ-2336"/>
                                <field id="clcommon__Describe_Log_Books__c" valuehalign="" type="" uniqueid="sk-3KOfla-2339"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOflb-2342"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOflc-2345"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfle-2348"/>
                                <field id="clcommon__Airport__c" valuehalign="" type="" uniqueid="sk-3KOfle-2351"/>
                                <field id="clcommon__Commercial_Use__c" valuehalign="" type="" uniqueid="sk-3KOflg-2354"/>
                                <field id="clcommon__FAA_Cover_Letter__c" valuehalign="" type="" uniqueid="sk-3KOflh-2357"/>
                                <field id="clcommon__Inspection_Report__c" valuehalign="" type="" uniqueid="sk-3KOfli-2360"/>
                                <field id="clcommon__IDERA__c" valuehalign="" type="" uniqueid="sk-3KOflm-2363"/>
                                <field id="clcommon__FAA_Number__c" valuehalign="" type="" uniqueid="sk-3KOfln-2366"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Aircraft"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="trailerEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfly-2378"/>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOflz-2381"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOfl_-2384"/>
                                <field id="clcommon__Manufacturer__c" valuehalign="" type="" uniqueid="sk-3KOfm0-2387"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOfm1-2390"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOfm3-2393"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOfm4-2396"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOfm6-2399"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfm7-2402"/>
                                <field id="clcommon__Block__c" valuehalign="" type="" uniqueid="sk-3KOfm9-2405"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfmA-2408"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfmC-2411"/>
                                <field id="clcommon__Secure_Future_Advances__c" valuehalign="" type="" uniqueid="sk-3KOfmD-2414"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Trailer"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="otherTitledEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfmS-2426"/>
                                <field id="clcommon__Style__c" valuehalign="" type="" uniqueid="sk-3KOfmT-2429"/>
                                <field id="clcommon__Make__c" valuehalign="" type="" uniqueid="sk-3KOfmU-2432"/>
                                <field id="clcommon__Manufacturer__c" valuehalign="" type="" uniqueid="sk-3KOfmW-2435"/>
                                <field id="clcommon__Model__c" valuehalign="" type="" uniqueid="sk-3KOfmX-2438"/>
                                <field id="clcommon__Vehicle_Color__c" valuehalign="" type="" uniqueid="sk-3KOfmZ-2441"/>
                                <field id="clcommon__Vehicle_Serial_Number__c" valuehalign="" type="" uniqueid="sk-3KOfmb-2444"/>
                                <field id="clcommon__Year__c" valuehalign="" type="" uniqueid="sk-3KOfmc-2447"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfme-2450"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfmf-2453"/>
                                <field id="clcommon__Registration_State__c" valuehalign="" type="" uniqueid="sk-3KOfmg-2456"/>
                                <field id="clcommon__Secure_Future_Advances__c" valuehalign="" type="" uniqueid="sk-3KOfmi-2459"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" value="Other Titled" field="clcommon__Collateral_Type__r.Name"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="securitiesEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__c" uniqueid="sk-3KOfnB-2501"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfnC-2504"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfnE-2507"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfnF-2510"/>
                                <field id="clcommon__Held_By__c" valuehalign="" type="" uniqueid="sk-3KOfnH-2513"/>
                                <field id="clcommon__CUSIP_Number__c" valuehalign="" type="" uniqueid="sk-3KOfnJ-2516"/>
                                <field id="clcommon__Number_of_Shares__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfnK-2519"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Securities"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="noteinstrumentEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfnW-2531"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfnX-2534"/>
                                <field id="clcommon__Possessory_Current_Balance__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfnY-2537"/>
                                <field id="clcommon__Secured_By_Interest_In_Property__c" valuehalign="" type="" uniqueid="sk-3KOfna-2540"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfnb-2543"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfnd-2546"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Note/Instrument"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="true" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="receiptbillsEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfnu-2558"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfnw-2561"/>
                                <field id="clcommon__Possessory_Current_Balance__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfnz-2564"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfo0-2567"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfo3-2570"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Receipts/Bills"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="letterofcreditEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfoP-2582"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfoR-2585"/>
                                <field id="clcommon__Possessory_Current_Balance__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfoU-2588"/>
                                <field id="clcommon__Letter_of_Credit_Date__c" valuehalign="" type="" uniqueid="sk-3KOfoY-2591"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfoc-2594"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfog-2597"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Letter of Credit"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="lifeinsuranceEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfp5-2609"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfp8-2612"/>
                                <field id="clcommon__Possessory_Current_Balance__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfpA-2615"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfpD-2618"/>
                                <field id="clcommon__Existing_Beneficiaries__c" valuehalign="" type="" uniqueid="sk-3KOfpH-2621"/>
                                <field id="clcommon__Insurance_Company_Name__c" valuehalign="" type="" uniqueid="sk-3KOfpJ-2624"/>
                                <field id="clcommon__Policy_Number__c" valuehalign="" type="" uniqueid="sk-3KOfpM-2627"/>
                                <field id="clcommon__Name_of_Insured__c" valuehalign="" type="" uniqueid="sk-3KOfpP-2630"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfpS-2633"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Life Insurance"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="otherprocesseryEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfr2-2645"/>
                                <field id="clcommon__Possessory_Type__c" valuehalign="" type="" uniqueid="sk-3KOfr4-2648"/>
                                <field id="clcommon__Possessory_Current_Balance__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfr7-2651"/>
                                <field id="clcommon__Account_Number__c" valuehalign="" type="" uniqueid="sk-3KOfr9-2654"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfrA-2657"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Other Possessory"/>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="mixedReEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfrM-2669"/>
                                <field id="clcommon__Agricultural_Use__c" valuehalign="" type="" uniqueid="sk-3KOfrO-2672"/>
                                <field id="clcommon__Collateral_Secures__c" valuehalign="" type="" uniqueid="sk-3KOfrP-2675"/>
                                <field id="clcommon__Property_Tax_ID_Number__c" valuehalign="" type="" uniqueid="sk-3KOfrR-2678"/>
                                <field id="clcommon__Condo__c" valuehalign="" type="" uniqueid="sk-3KOfrS-2681"/>
                                <field id="clcommon__First_Lien__c" valuehalign="" type="" uniqueid="sk-3KOfrT-2684"/>
                                <field id="clcommon__Existing_Lien__c" valuehalign="" type="" uniqueid="sk-3KOfrU-2687"/>
                                <field id="clcommon__Homestead_Property__c" valuehalign="" type="" uniqueid="sk-3KOfrW-2690"/>
                                <field id="clcommon__Leasehold__c" valuehalign="" type="" uniqueid="sk-3KOfrX-2693"/>
                                <field id="clcommon__Dwelling__c" valuehalign="" type="" uniqueid="sk-3KOfrZ-2696"/>
                                <field id="clcommon__Number_of_Units__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfra-2699"/>
                                <field id="clcommon__Owner_Occupied__c" valuehalign="" type="" uniqueid="sk-3KOfrb-2702"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfrd-2705"/>
                                <field id="clcommon__Refinance__c" valuehalign="" type="" uniqueid="sk-3KOfrd-2708"/>
                                <field id="clcommon__Residential_Property__c" valuehalign="" type="" uniqueid="sk-3KOfrf-2711"/>
                                <field id="clcommon__Timeshare__c" valuehalign="" type="" uniqueid="sk-3KOfrg-2714"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="multiple" operator="in" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="" enclosevalueinquotes="true">
                          <values>
                            <value>All Real Estate Types</value>
                            <value>1-4 Family</value>
                            <value>Multi-Family</value>
                            <value>Construction</value>
                            <value>Lot</value>
                            <value>Land</value>
                            <value>Farm Land</value>
                            <value>Office</value>
                            <value>Warehouse</value>
                            <value>Retail</value>
                            <value>Oil and Gas</value>
                            <value>Other RE</value>
                          </values>
                        </rendercondition>
                      </renderconditions>
                    </basicfieldeditor>
                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="Collateral" buttonposition="" uniqueid="govtContractEditor" mode="edit" layout="">
                      <columns>
                        <column width="50%">
                          <sections>
                            <section title="Section A" collapsible="no" showheader="false">
                              <fields>
                                <field id="clcommon__Collateral_Type__r.Name" uniqueid="sk-3KOfrs-2726"/>
                                <field id="clcommon__Contract_Date__c" valuehalign="" type="" uniqueid="sk-3KOfrt-2729"/>
                                <field id="clcommon__Contract_Number__c" valuehalign="" type="" uniqueid="sk-3KOfru-2732"/>
                                <field id="clcommon__Purchase_Money__c" valuehalign="" type="" uniqueid="sk-3KOfrx-2735"/>
                                <field id="clcommon__Secure_Future_Advances__c" valuehalign="" type="" uniqueid="sk-3KOfry-2738"/>
                                <field id="clcommon__Contracting_Party__c" valuehalign="" type="" uniqueid="sk-3KOfr_-2741"/>
                              </fields>
                            </section>
                          </sections>
                        </column>
                        <column width="50%">
                          <sections>
                            <section title="Section B" collapsible="no" showheader="false">
                              <fields/>
                            </section>
                          </sections>
                        </column>
                      </columns>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="clcommon__Collateral_Type__r.Name" value="Government Contracts"/>
                      </renderconditions>
                    </basicfieldeditor>
                  </components>
                </division>
              </divisions>
              <styles>
                <styleitem type="background" bgtype="none"/>
              </styles>
              <renderconditions logictype="and"/>
            </grid>
          </components>
          <actions>
            <action uniqueid="sk-MKdhQ1-150" type="navigate" stepid="step2" label="Previous" icon="fa-arrow-left" window="self" snippet="step3BackButton"/>
            <action uniqueid="sk-MKdhQ1-151" type="multi" label="Next" icon="fa-arrow-right" window="self" stepid="step4" snippet="fieldValidation">
              <actions>
                <action type="custom" snippet="SaveSecAddressAsSecName"/>
                <action type="save">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="custom" snippet="fetchData"/>
                <action type="navigateToStep" stepid="step4"/>
              </actions>
              <renderconditions logictype="and"/>
              <enableconditions/>
              <hotkeys/>
            </action>
          </actions>
        </step>
        <step stepid="step4" steplabel="">
          <components>
            <richtext multiple="false" uniqueid="sk-wqv6G-3475" model="SecurityAddressModel">
              <contents>&lt;p&gt;&lt;span style="font-size:16px;"&gt;&lt;strong&gt;Note : Owners&amp;nbsp;not part of the application are&amp;nbsp;highlighted in red. Any change in ownership&amp;nbsp;will be reflected in other applications where&amp;nbsp;this collateral&amp;nbsp;is used.&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
</contents>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ExistingCollateral" fieldtargetobjects="clcommon__Collateral__c" value="true"/>
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Application" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" value="987654678" field="Name" fieldtargetobjects="genesis__Applications__c"/>
              </renderconditions>
            </richtext>
            <skootable showconditions="true" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="false" showexportbuttons="false" pagesize="10" alwaysresetpagination="false" createrecords="true" model="CollateralOwner" buttonposition="" mode="read" allowcolumnreordering="false" responsive="true" uniqueid="sk-3KPFst-4049" instantfilters="false" emptysearchbehavior="query">
              <fields>
                <field id="clcommon__Account__c" hideable="true" uniqueid="fi-3KPKwP-4067" optionsource="" pagesize="5" redirecttype="datasourcedefault" snippet="highlightRow">
                  <searchfields/>
                  <filters>
                    <filter type="modelmerge" operator="in" field="Id" fieldtargetobjects="Account" value="" model="ApplicationParty" enclosevalueinquotes="true" mergefield="clcommon__Account__c" novaluebehavior="deactivate"/>
                  </filters>
                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                  <enableconditions/>
                </field>
                <field id="clcommon__Ownership__c" hideable="true" uniqueid="fi-3KPKwQ-4069"/>
              </fields>
              <rowactions>
                <action type="edit"/>
                <action type="delete"/>
              </rowactions>
              <massactions usefirstitemasdefault="true">
                <action type="massupdate"/>
                <action type="massdelete"/>
              </massactions>
              <views>
                <view type="standard"/>
              </views>
              <searchfields/>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="NewCollateral" fieldtargetobjects="clcommon__Collateral__c" value="true"/>
              </renderconditions>
              <actions defaultlabel="Global Actions" defaulticon="sk-icon-magic" usefirstitemasdefault="true"/>
            </skootable>
            <skootable showconditions="true" showsavecancel="false" showerrorsinline="true" searchmethod="server" searchbox="true" showexportbuttons="false" pagesize="10" alwaysresetpagination="false" createrecords="true" model="CollateralOwner" buttonposition="" mode="read" allowcolumnreordering="false" responsive="true" uniqueid="sk-wtcWn-3773" instantfilters="false">
              <fields>
                <field id="clcommon__Account__c" hideable="true" uniqueid="sk-wtcWn-3774" valuehalign="" type="CUSTOM" optionsource="" pagesize="5" redirecttype="datasourcedefault" snippet="highlightRow">
                  <searchfields/>
                  <filters>
                    <filter type="modelmerge" operator="in" field="Id" fieldtargetobjects="Account" value="" model="ApplicationParty" enclosevalueinquotes="true" mergefield="clcommon__Account__c" novaluebehavior="deactivate"/>
                  </filters>
                  <renderconditions logictype="and" onhidedatabehavior="keep"/>
                  <enableconditions/>
                </field>
                <field id="clcommon__Ownership__c" hideable="true" uniqueid="sk-wtcWn-3775"/>
              </fields>
              <rowactions>
                <action type="edit"/>
                <action type="delete"/>
              </rowactions>
              <massactions usefirstitemasdefault="true">
                <action type="massupdate"/>
                <action type="massdelete"/>
              </massactions>
              <views>
                <view type="standard"/>
              </views>
              <searchfields/>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="deactivate" field="ExistingCollateral" fieldtargetobjects="clcommon__Collateral__c" value="true"/>
              </renderconditions>
              <actions defaultlabel="Global Actions" defaulticon="sk-icon-magic" usefirstitemasdefault="true"/>
            </skootable>
          </components>
          <actions>
            <action uniqueid="sk-3KOheA-3774" type="navigate" stepid="step3" label="Previous " icon="fa-arrow-left" secondary="false" window="self"/>
            <action type="multi" label="Save" stepid="step1" uniqueid="sk-3Cwf-11279" window="self" icon="sk-icon-save">
              <models>
                <model>CollateralOwner</model>
              </models>
              <actions>
                <action type="save">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="custom" snippet="saveApplicationColl"/>
                <action type="custom" snippet="ownershipValidation"/>
                <action type="custom" snippet="CloseCollateralDialog"/>
                <action type="blockUI" timeout="1500"/>
                <action type="requeryModels" behavior="standard">
                  <models>
                    <model>Collateral</model>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
              </actions>
              <renderconditions logictype="and"/>
              <enableconditions/>
            </action>
            <action type="multi" label="Cancel" stepid="step1" uniqueid="sk-3CxV-11356" window="self">
              <actions>
                <action type="cancel">
                  <models>
                    <model>CollateralOwner</model>
                  </models>
                </action>
              </actions>
            </action>
          </actions>
        </step>
        <step stepid="step5" steplabel="">
          <components>
            <grid uniqueid="sk-1fDpNf-2346">
              <divisions>
                <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                  <components>
                    <pagetitle uniqueid="error-panel-pledge-collateral-id" model="Application">
                      <actions/>
                      <renderconditions logictype="and"/>
                    </pagetitle>
                    <wrapper uniqueid="sk-1fE1dj-2372">
                      <components>
                        <wrapper uniqueid="wrap-1">
                          <components>
                            <pagetitle model="Collateral" uniqueid="sk-2dxt9g-3168">
                              <maintitle>Existing Appraisal Request for the Collateral  {{Name}}</maintitle>
                              <actions/>
                            </pagetitle>
                            <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="PledgeCollaterals_AppraisalRequestFetched" uniqueid="sk-2dirEC-1855" mode="readonly">
                              <columns>
                                <column width="50%">
                                  <sections>
                                    <section title="Section A" collapsible="no" showheader="false">
                                      <fields>
                                        <field id="genesis__Total_Bids__c" uniqueid="sk-3KOfsS-2782"/>
                                        <field id="genesis__Accepted_Bids__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfsU-2785"/>
                                        <field id="genesis__Application_Collateral__c" uniqueid="sk-3KOfsV-2788"/>
                                        <field id="genesis__Appraisal_Ordered_By__c" uniqueid="sk-3KOfsW-2791"/>
                                        <field id="Name" uniqueid="sk-3KOfsX-2794"/>
                                      </fields>
                                    </section>
                                  </sections>
                                </column>
                                <column width="50%">
                                  <sections>
                                    <section title="Section B" collapsible="no" showheader="false">
                                      <fields>
                                        <field id="genesis__Due_Date__c" uniqueid="sk-3KOfsc-2800"/>
                                        <field id="genesis__Status__c" uniqueid="sk-3KOfsd-2803"/>
                                        <field id="genesis__Collateral_Category__c" uniqueid="sk-3KOfse-2806"/>
                                        <field id="genesis__Collateral_Description__c" uniqueid="sk-3KOfsf-2809"/>
                                        <field id="genesis__Collateral_Valuation__c" uniqueid="sk-3KOfsh-2812"/>
                                      </fields>
                                    </section>
                                  </sections>
                                </column>
                              </columns>
                            </basicfieldeditor>
                          </components>
                          <styles>
                            <styleitem type="background"/>
                            <styleitem type="border"/>
                            <styleitem type="size"/>
                          </styles>
                          <renderconditions logictype="and">
                            <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
                            <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="ApplicationCollateralClone" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="isAppraisalRequestExist"/>
                            <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="PledgeCollaterals_AppraisalRequestFetched" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationDoseNotExists"/>
                          </renderconditions>
                        </wrapper>
                        <wrapper uniqueid="sk-1fEZ_7-2489">
                          <components>
                            <grid uniqueid="sk-1fDwRp-2361">
                              <divisions>
                                <division behavior="flex" minwidth="100px" ratio="1">
                                  <components/>
                                </division>
                                <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                  <components>
                                    <image source="staticresource" uniqueid="submit-new-appraisal" datasource="salesforce" behavior="none" resource="genesisExtn__CLSStyleSheetPack" resourceContentType="application/zip" path="images/NewHouse.png" cssclass="image-button new-house">
                                      <styles>
                                        <styleitem type="itemsize"/>
                                        <styleitem type="border"/>
                                      </styles>
                                    </image>
                                    <buttonset model="PledgeCollaterals_CollateralValuation" uniqueid="new-appraisal-btnset" position="center">
                                      <buttons>
                                        <button type="multi" label="Yes" uniqueid="set-yes-create-appraisal">
                                          <actions>
                                            <action type="custom" snippet="set-create-new-appraisal"/>
                                          </actions>
                                        </button>
                                        <button type="multi" label="No" uniqueid="set-no-create-appraisal" secondary="true">
                                          <actions>
                                            <action type="custom" snippet="unset-create-new-appraisal"/>
                                          </actions>
                                        </button>
                                      </buttons>
                                    </buttonset>
                                    <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="PledgeCollaterals_AppraisalRequest" buttonposition="" uniqueid="appraisal-req-due-date-id" mode="edit" layout="">
                                      <columns>
                                        <column width="100%">
                                          <sections>
                                            <section title="Appraisal Details" collapsible="no" showheader="true">
                                              <fields>
                                                <field id="genesis__Due_Date__c" valuehalign="" type="" required="true" uniqueid="sk-3KOft1-2848"/>
                                              </fields>
                                            </section>
                                          </sections>
                                        </column>
                                      </columns>
                                      <renderconditions logictype="and">
                                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="create_appraisal_request" value="true"/>
                                      </renderconditions>
                                    </basicfieldeditor>
                                  </components>
                                </division>
                                <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                  <components/>
                                </division>
                              </divisions>
                              <styles>
                                <styleitem type="background" bgtype="none"/>
                              </styles>
                              <renderconditions logictype="and"/>
                            </grid>
                          </components>
                          <styles>
                            <styleitem type="background"/>
                            <styleitem type="border"/>
                            <styleitem type="size"/>
                          </styles>
                          <renderconditions logictype="custom" logic="1 OR (2 AND 3)">
                            <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="false"/>
                            <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="PledgeCollaterals_CollateralValuation" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationDoseNotExists"/>
                            <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="PledgeCollaterals_AppraisalRequestFetched" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="IsAppraisalRequestNotExist"/>
                          </renderconditions>
                        </wrapper>
                        <wrapper uniqueid="sk-1fEZHp-2481">
                          <components>
                            <pagetitle model="PledgeCollaterals_CollateralValuation" uniqueid="error-panel-coll-appraised-pt">
                              <actions/>
                            </pagetitle>
                            <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="PledgeCollaterals_CollateralValuation" buttonposition="" uniqueid="sk-2qlKep-1341" mode="readonly">
                              <columns>
                                <column width="33.3%">
                                  <sections>
                                    <section title="Section A" collapsible="no" showheader="false">
                                      <fields/>
                                    </section>
                                  </sections>
                                </column>
                                <column width="33.3%">
                                  <sections>
                                    <section title="Section B" collapsible="no" showheader="false">
                                      <fields>
                                        <field id="clcommon__Appraised_Value__c" uniqueid="sk-3KOftI-2873"/>
                                        <field id="RemainingValue" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOftJ-2876"/>
                                      </fields>
                                    </section>
                                  </sections>
                                </column>
                                <column width="33.3%">
                                  <sections>
                                    <section title="New Section" collapsible="no" showheader="false">
                                      <fields/>
                                    </section>
                                  </sections>
                                </column>
                              </columns>
                            </basicfieldeditor>
                            <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="ApplicationCollateral" buttonposition="" uniqueid="sk-1famAj-2471" mode="edit">
                              <columns>
                                <column width="33.3%">
                                  <sections>
                                    <section title="Section A" collapsible="no" showheader="false">
                                      <fields/>
                                    </section>
                                  </sections>
                                </column>
                                <column width="33.3%">
                                  <sections>
                                    <section title="Section B" collapsible="no" showheader="false">
                                      <fields>
                                        <field id="genesis__Pledge_Amount__c" uniqueid="sk-3KOftY-2891"/>
                                      </fields>
                                    </section>
                                  </sections>
                                </column>
                                <column width="33.3%">
                                  <sections>
                                    <section title="New Section" collapsible="no" showheader="false">
                                      <fields/>
                                    </section>
                                  </sections>
                                </column>
                              </columns>
                              <renderconditions logictype="and"/>
                            </basicfieldeditor>
                          </components>
                          <styles>
                            <styleitem type="background"/>
                            <styleitem type="border"/>
                            <styleitem type="size"/>
                          </styles>
                          <renderconditions logictype="and">
                            <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
                            <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="PledgeCollaterals_CollateralValuation" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationExists"/>
                          </renderconditions>
                        </wrapper>
                      </components>
                      <styles>
                        <styleitem type="background"/>
                        <styleitem type="border"/>
                        <styleitem type="size"/>
                      </styles>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="true"/>
                      </renderconditions>
                    </wrapper>
                    <wrapper uniqueid="sk-1fEAfW-2410">
                      <components>
                        <grid uniqueid="sk-1CtIv9-963">
                          <divisions>
                            <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                              <components>
                                <pagetitle uniqueid="errorMessagePledgeAmountId" model="Collateral">
                                  <actions/>
                                  <renderconditions logictype="and"/>
                                </pagetitle>
                                <grid uniqueid="sk-tiKec-1995">
                                  <divisions>
                                    <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                                      <components/>
                                    </division>
                                    <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                      <components>
                                        <pagetitle uniqueid="sk-tiO8J-2005" model="Collateral">
                                          <subtitle>Enter Pledge Amount:</subtitle>
                                          <actions/>
                                          <renderconditions logictype="and"/>
                                        </pagetitle>
                                      </components>
                                    </division>
                                    <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                      <components/>
                                    </division>
                                  </divisions>
                                  <styles>
                                    <styleitem type="background" bgtype="none"/>
                                  </styles>
                                  <renderconditions logictype="and">
                                    <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
                                    <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="Application" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationExists"/>
                                  </renderconditions>
                                </grid>
                                <grid uniqueid="sk-MNUXb-463">
                                  <divisions>
                                    <division behavior="flex" minwidth="100px" ratio="1" verticalalign="top">
                                      <components>
                                        <wrapper uniqueid="new-collateral-pledge-amt-wpr">
                                          <components>
                                            <grid uniqueid="sk-1PcBO_-1264">
                                              <divisions>
                                                <division behavior="flex" minwidth="100px" ratio="1">
                                                  <components/>
                                                </division>
                                                <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                                  <components>
                                                    <pagetitle uniqueid="new-collateral-pledge-amt-title" model="Collateral">
                                                      <actions/>
                                                      <renderconditions logictype="and"/>
                                                      <subtitle>You can pledge amount against this collateral only after the collateral is appraised</subtitle>
                                                    </pagetitle>
                                                  </components>
                                                </division>
                                                <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                                  <components/>
                                                </division>
                                              </divisions>
                                              <styles>
                                                <styleitem type="background" bgtype="none"/>
                                              </styles>
                                              <renderconditions logictype="and"/>
                                            </grid>
                                            <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="ApplicationCollateralNew" buttonposition="" uniqueid="sk-3kdJQv-976" mode="readonly">
                                              <columns>
                                                <column width="33.3%">
                                                  <sections>
                                                    <section title="Section A" collapsible="no" showheader="false">
                                                      <fields/>
                                                    </section>
                                                  </sections>
                                                </column>
                                                <column width="33.3%">
                                                  <sections>
                                                    <section title="New Section" collapsible="no" showheader="false">
                                                      <fields>
                                                        <field id="genesis__Pledge_Amount__c" decimalplaces="" valuehalign="" type="" readonly="true" uniqueid="sk-3KOfuD-2971">
                                                          <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                          <enableconditions/>
                                                        </field>
                                                      </fields>
                                                    </section>
                                                  </sections>
                                                </column>
                                                <column width="33.3%">
                                                  <sections/>
                                                </column>
                                              </columns>
                                              <renderconditions logictype="and"/>
                                            </basicfieldeditor>
                                          </components>
                                          <styles>
                                            <styleitem type="background"/>
                                            <styleitem type="border"/>
                                            <styleitem type="size"/>
                                          </styles>
                                          <renderconditions logictype="and">
                                            <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="false"/>
                                          </renderconditions>
                                        </wrapper>
                                        <wrapper uniqueid="existing-collateral-pledge-amt-wpr">
                                          <components>
                                            <wrapper uniqueid="sk-1TECaP-2651">
                                              <components>
                                                <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="PledgeCollaterals_CollateralValuation" buttonposition="" uniqueid="sk-1TELTa-2699" mode="readonly">
                                                  <columns>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="Section A" collapsible="no" showheader="false">
                                                          <fields/>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="Section B" collapsible="no" showheader="false">
                                                          <fields>
                                                            <field id="clcommon__Appraised_Value__c" uniqueid="sk-3KOfuT-2993"/>
                                                            <field id="RemainingValue" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOfuU-2996"/>
                                                          </fields>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="New Section" collapsible="no" showheader="false">
                                                          <fields/>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                  </columns>
                                                </basicfieldeditor>
                                                <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="ApplicationCollateral" buttonposition="" uniqueid="sk-dvlDJ-530" mode="edit" layout="">
                                                  <columns>
                                                    <column width="33.3%">
                                                      <sections/>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="" collapsible="no" showheader="false">
                                                          <fields/>
                                                          <renderconditions logictype="and"/>
                                                        </section>
                                                        <section title="Section A" collapsible="no" showheader="false">
                                                          <fields>
                                                            <field id="genesis__Pledge_Amount__c" decimalplaces="" valuehalign="" type="" uniqueid="sk-3KOful-3011">
                                                              <label>Pledge Amount</label>
                                                              <renderconditions logictype="and" onhidedatabehavior="keep"/>
                                                              <enableconditions/>
                                                            </field>
                                                          </fields>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections/>
                                                    </column>
                                                  </columns>
                                                  <renderconditions logictype="and"/>
                                                </basicfieldeditor>
                                              </components>
                                              <styles>
                                                <styleitem type="background"/>
                                                <styleitem type="border"/>
                                                <styleitem type="size"/>
                                              </styles>
                                              <renderconditions logictype="and">
                                                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="PledgeCollaterals_CollateralValuation" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationExists"/>
                                              </renderconditions>
                                            </wrapper>
                                            <wrapper uniqueid="existing-coll-pledge-inner-wrapper">
                                              <components>
                                                <grid uniqueid="sk-1PgQil-1494">
                                                  <divisions>
                                                    <division behavior="flex" minwidth="100px" ratio="1">
                                                      <components/>
                                                    </division>
                                                    <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                                      <components>
                                                        <pagetitle model="ApplicationCollateral" uniqueid="sk-1PgT__-1509">
                                                          <subtitle>You can pledge amount against this collateral only after the collateral is appraised</subtitle>
                                                          <actions/>
                                                          <renderconditions logictype="and"/>
                                                        </pagetitle>
                                                      </components>
                                                    </division>
                                                    <division behavior="flex" verticalalign="top" minwidth="100px" ratio="1">
                                                      <components/>
                                                    </division>
                                                  </divisions>
                                                  <styles>
                                                    <styleitem type="background" bgtype="none"/>
                                                  </styles>
                                                  <renderconditions logictype="and"/>
                                                </grid>
                                                <basicfieldeditor showheader="true" showsavecancel="false" showerrorsinline="true" model="ApplicationCollateral" buttonposition="" uniqueid="sk-1PfyOF-1416" mode="readonly" layout="">
                                                  <columns>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="Section A" collapsible="no" showheader="false">
                                                          <fields/>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="Section B" collapsible="no" showheader="false">
                                                          <fields>
                                                            <field id="genesis__Pledge_Amount__c" decimalplaces="" valuehalign="" type="" readonly="true" uniqueid="sk-3KOfv7-3048"/>
                                                          </fields>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                    <column width="33.3%">
                                                      <sections>
                                                        <section title="New Section" collapsible="no" showheader="false">
                                                          <fields/>
                                                        </section>
                                                      </sections>
                                                    </column>
                                                  </columns>
                                                  <renderconditions logictype="and"/>
                                                </basicfieldeditor>
                                              </components>
                                              <styles>
                                                <styleitem type="background"/>
                                                <styleitem type="border"/>
                                                <styleitem type="size"/>
                                              </styles>
                                              <renderconditions logictype="and">
                                                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="true" fieldmodel="ApplicationCollateralClone" sourcetype="snippet" nosourcerowbehavior="deactivate" sourcesnippet="collateralValuationDoseNotExists"/>
                                              </renderconditions>
                                            </wrapper>
                                          </components>
                                          <styles>
                                            <styleitem type="background"/>
                                            <styleitem type="border"/>
                                            <styleitem type="size"/>
                                          </styles>
                                          <renderconditions logictype="and">
                                            <rendercondition fieldmodel="Collateral" sourcetype="rowproperty" nosourcerowbehavior="deactivate" sourceproperty="isSaved" enclosevalueinquotes="false"/>
                                            <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
                                          </renderconditions>
                                        </wrapper>
                                      </components>
                                    </division>
                                  </divisions>
                                  <styles>
                                    <styleitem type="background" bgtype="none"/>
                                  </styles>
                                  <renderconditions logictype="and"/>
                                </grid>
                              </components>
                            </division>
                          </divisions>
                          <styles>
                            <styleitem type="background" bgtype="none"/>
                          </styles>
                          <renderconditions logictype="and"/>
                        </grid>
                      </components>
                      <styles>
                        <styleitem type="background"/>
                        <styleitem type="border"/>
                        <styleitem type="size"/>
                      </styles>
                      <renderconditions logictype="and">
                        <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="false"/>
                      </renderconditions>
                    </wrapper>
                  </components>
                </division>
              </divisions>
              <styles>
                <styleitem type="background" bgtype="none"/>
              </styles>
              <renderconditions logictype="and"/>
            </grid>
          </components>
          <actions>
            <action uniqueid="sk-MKf68-159" type="navigate" stepid="step4" label="Previous" icon="fa-arrow-left" window="self">
              <hotkeys/>
              <renderconditions logictype="and"/>
              <enableconditions/>
            </action>
            <action type="multi" label="Save" stepid="step1" window="self" icon="" snippet="saveCollateral" uniqueid="sk-3KOfvM-3064">
              <actions>
                <action type="custom" snippet="updateRemainingValue"/>
                <action type="custom" snippet="validatePledgeAmount"/>
                <action type="save" rollbackonanyerror="true">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="custom" snippet="saveApplicationColl"/>
                <action type="custom" snippet="CloseCollateralDialog"/>
                <action type="blockUI" window="self" url="/{{Id}}" message="Collateral Pledged" timeout="2000"/>
                <action type="requeryModels" model="Collateral" behavior="standard">
                  <models>
                    <model>Collateral</model>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
              </actions>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="false"/>
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
              </renderconditions>
              <enableconditions/>
              <hotkeys/>
            </action>
            <action type="multi" label="Save" stepid="step1" window="self" uniqueid="sk-3KOfvO-3067">
              <actions>
                <action type="custom" snippet="updateRemainingValue"/>
                <action type="custom" snippet="validatePledgeAmount"/>
                <action type="save">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="custom" snippet="saveApplicationColl"/>
                <action type="custom" snippet="checkAndCreateAppraisalRequest"/>
                <action type="custom" snippet="CloseCollateralDialog"/>
                <action type="blockUI" timeout="1500" message="Saved"/>
                <action type="requeryModels" behavior="standard">
                  <models>
                    <model>Collateral</model>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
              </actions>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="false"/>
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="true"/>
              </renderconditions>
              <enableconditions/>
              <hotkeys/>
            </action>
            <action type="multi" label="Save" stepid="step1" window="self" uniqueid="sk-3KOfvP-3070">
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="CollateralClone" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="true"/>
              </renderconditions>
              <enableconditions/>
              <actions>
                <action type="custom" snippet="updateRemainingValue"/>
                <action type="custom" snippet="validatePledgeAmount"/>
                <action type="save" rollbackonanyerror="true">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="custom" snippet="saveApplicationColl"/>
                <action type="custom" snippet="checkAndCreateAppraisalRequest"/>
                <action type="custom" snippet="CloseCollateralDialog"/>
                <action type="blockUI" timeout="1500"/>
                <action type="requeryModels" behavior="standard">
                  <models>
                    <model>Collateral</model>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
              </actions>
              <hotkeys/>
            </action>
            <action type="multi" label="Save" stepid="step1" window="self" uniqueid="sk-3KOfvQ-3073">
              <actions>
                <action type="custom" snippet="updateRemainingValue"/>
                <action type="custom" snippet="validatePledgeAmount"/>
                <action type="save">
                  <models>
                    <model>Collateral</model>
                  </models>
                </action>
                <action type="save">
                  <models>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
                <action type="custom" snippet="CloseCollateralDialog"/>
                <action type="blockUI" timeout="1500"/>
                <action type="requeryModels" behavior="standard">
                  <models>
                    <model>Collateral</model>
                    <model>ApplicationCollateral</model>
                  </models>
                </action>
              </actions>
              <renderconditions logictype="and">
                <rendercondition type="fieldvalue" operator="=" enclosevalueinquotes="false" fieldmodel="PledgeCollaterals_OrgParams" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="genesis__Use_Appraisal_Management__c" value="false"/>
                <rendercondition type="fieldvalue" operator="!=" enclosevalueinquotes="false" fieldmodel="Collateral" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="NewCollateral" value="true"/>
              </renderconditions>
              <enableconditions/>
              <hotkeys/>
            </action>
          </actions>
        </step>
      </steps>
      <renderconditions logictype="and"/>
    </wizard>
  </components>
  <resources>
    <labels/>
    <javascript>
      <jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="commonUtils.js" content_type="application/zip">var params = arguments[0],
$ = skuid.$;
</jsitem>
      <jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="messageUtils.js">var params = arguments[0],
        $ = skuid.$;
      </jsitem>
      <jsitem location="staticresource" name="CLSNGUIComponent" cachelocation="false" url="" namespace="genesisExtn" filepath="mainPage.js">var params = arguments[0],
        $ = skuid.$;
      </jsitem>
      <jsitem location="inlinesnippet" name="fieldValidation" cachelocation="false">/**
*  Purpose: Used for validating required fields in step 3 of wizard .Displays error message accordingly on violation
*  Where: step 3 Next button click snippet
*
* @name  Fieldvalidation.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/

//params will contail all the info about the context of call like which record data calles it,what condition,etc
var params = arguments[0],
    $ = skuid.$;

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var newCollateralTypeCatModel = skuid.model.getModel('PledgeCollaterals_CollateralTypeCategoryAssoc');
var collCatCatModelCondition = newCollateralTypeCatModel.getConditionByName('collTypeName');
newCollateralTypeCatModel.setCondition(collCatCatModelCondition, newCollateralRow.clcommon__Collateral_Type__r.Name);
newCollateralTypeCatModel.activateCondition(collCatCatModelCondition);

skuid.model.updateData([newCollateralTypeCatModel],function(){
    var catRow = newCollateralTypeCatModel.data[0];

    newCollateralModel.updateRow(newCollateralRow ,
                        { clcommon__Collateral_Category__c : catRow.clcommon__Collateral_Category__c });


});


//fetch the wizard object
var wizard = $('.nx-wizard').data('object');
//fetch wizard current step
var currentStep = wizard.steps[wizard.currentstep];

// Handle error messages
var displayMessage = function (message, severity) {

    var editor = $('#detailsPage ').data('object').editor;
    editor.messages.empty();
    editor.handleMessages([
        {
            message: message,
            severity: severity.toUpperCase()
        }
    ]);

    return false;
};

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];

var ApplicationCollateralNewModel = skuid.model.getModel('ApplicationCollateralNew');
var ApplicationCollateralNewRow = ApplicationCollateralNewModel.data[0];

if(!newAppCollRow){
    var newAppCollRow = newAppCollModel.createRow();
}

//validation condition
if(newCollateralRow.NewCollateral){

    if(newCollateralRow.clcommon__Collateral_Name__c &amp;&amp; newCollateralRow.clcommon__Collateral_Code__c ){
        /* update pledge amount to 0 */
        ApplicationCollateralNewModel.updateRow(ApplicationCollateralNewRow, {'genesis__Pledge_Amount__c':0});

        //navigate to step 4 in wizard
        currentStep.navigate('step4');
    }
    else{
         return displayMessage('Fill all the fields marked in red ', 'ERROR');
    }

}
else{
    var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
    var newAppCollRow = newAppCollModel.data[0];

    var collValModel = skuid.model.getModel('PledgeCollaterals_CollateralValuation');
    var colValRow = collValModel.data[0];

    if(colValRow === undefined) {
        /* update pledge amount to 0 */
        newAppCollModel.updateRow(newAppCollRow, {'genesis__Pledge_Amount__c':0});
    }

    //navigate to step 4 in wizard
    currentStep.navigate('step4');
}


















</jsitem>
      <jsitem location="inlinesnippet" name="newCollateral" cachelocation="false">/**
*  Purpose: Used for creating new collateral in the system.Sets values for UI only fields for rendering
*  Where: step 1 new collateral button
*
* @name  newCollateral.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/


var params = arguments[0],
$ = skuid.$;

$('#newcollateralid').addClass('selected-btn');
$('#existingCollateralId').removeClass('selected-btn');

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

//add values to UI only fields which will be used for rendering
if(!newCollateralCloneRow){
    var newCollateralCloneRow = newCollateralCloneModel.createRow({
        additionalConditions: [
            { field: 'NewCollateral', value:true },
            { field: 'ExistingCollateral', value: false },
        ]
    });

}else{
    newCollateralCloneModel.updateRow(newCollateralCloneRow ,
                        { NewCollateral : true ,
                          ExistingCollateral : false });

}</jsitem>
      <jsitem location="inlinesnippet" name="existingCollateral" cachelocation="false">/**
*  Purpose: Used for updating existing collateral in the system.Sets values for UI only fields for rendering
*  Where: step 1 existing collateral button
*
* @name  existingCollateral.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/


var params = arguments[0],
$ = skuid.$;

$('#newcollateralid').removeClass('selected-btn');
$('#existingCollateralId').addClass('selected-btn');

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

//add values to UI only fields which will be used for rendering
if(!newCollateralCloneRow){
    var newCollateralCloneRow = newCollateralCloneModel.createRow({
        additionalConditions: [
            { field: 'NewCollateral', value:false },
            { field: 'ExistingCollateral', value: true },
        ]
    });

}else{
    newCollateralCloneModel.updateRow(newCollateralCloneRow ,
                        { NewCollateral : false ,
                          ExistingCollateral : true });

}
</jsitem>
      <jsitem location="inlinesnippet" name="validatePledgeAmountCollateral" cachelocation="false">/**
*  Purpose: validation of pledge amount
*
* @name  saveCollateral.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/

var params = arguments[0],
$ = skuid.$;

// Handle error messages
var displayMessage = function (message, severity) {
    var editor = $('#errorMessagePledgeAmountId ').data('object').editor;
    editor.messages.empty();
    editor.handleMessages([
        {
            message: message,
            severity: severity.toUpperCase()
        }
    ]);

    return false;
};


var editor = $('#errorMessagePledgeAmountId ').data('object').editor;

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];

var ApplicationCollateralNewModel = skuid.model.getModel('ApplicationCollateralNew');
var ApplicationCollateralNewRow = ApplicationCollateralNewModel.data[0];

var isNewCollateral = newCollateralCloneRow.NewCollateral;

if(isNewCollateral === true) {
    if(!ApplicationCollateralNewRow.genesis__Pledge_Amount__c ){
        return displayMessage('Please specify the pledge amount.', 'ERROR');
    }
    editor.messages.empty();
    if(ApplicationCollateralNewRow.genesis__Pledge_Amount__c &amp;&amp; ApplicationCollateralNewRow.genesis__Pledge_Amount__c===0){
        return displayMessage('The pledge amount must be greater than zero.', 'ERROR');
    }

} else {
    if(!newAppCollRow.genesis__Pledge_Amount__c ){
        return displayMessage('Please specify the pledge amount.', 'ERROR');
    }
    editor.messages.empty();
    if(newAppCollRow.genesis__Pledge_Amount__c &amp;&amp; newAppCollRow.genesis__Pledge_Amount__c===0){
        return displayMessage('The pledge amount must be greater than zero.', 'ERROR');
    }
    //newAppCollModel.updateRow(newAppCollRow, {'genesis__Application__c':skuid.page.params.id});

}





</jsitem>
      <jsitem location="inlinesnippet" name="typeValidation" cachelocation="false">/**
*  Purpose: Used for validation of whether user has selected any collateral type/collateral or not based on what he has chosen a
*  step before.Only allows users to goto next step if passed.
*  Where: step 2 next button
*
* @name  typeValidation.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/



var params = arguments[0],
$ = skuid.$;

var newCollateralTypeModel = skuid.model.getModel('CollateralTypeModel');
var newCollateralTypeRow = newCollateralTypeModel.data;

var valid_collaterals =[];

$.each( newCollateralTypeRow,function( i, item ){

    valid_collaterals.push(item.Name);

});

var wizard = $('.nx-wizard').data('object');
var currentStep = wizard.steps[wizard.currentstep];

var editor = $('#PanelForAll ').data('object').editor;
editor.clearMessages();

// Handle error messages
var displayMessage = function (message, severity) {

    editor.handleMessages([
        {
            message: message,
            severity: severity.toUpperCase()
        }
    ]);

    return false;
};

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var newAppCollateralCloneModel = skuid.model.getModel('ApplicationCollateralClone');
var newAppCollateralCloneRow = newAppCollateralCloneModel.data[0];


if(newCollateralCloneRow.ExistingCollateral){
    if (!newAppCollateralCloneRow.genesis__Collateral__c) {
        return displayMessage('Select a collateral ', 'ERROR');
    }
    var newAppCollCloneModel = skuid.model.getModel('ApplicationCollateralClone');
    var newAppCollCloneRow = newAppCollCloneModel.data[0];

    if(newAppCollCloneRow.genesis__Collateral__r.clcommon__Collateral_Type__c) {
         if(valid_collaterals.indexOf(newAppCollCloneRow.genesis__Collateral__r.clcommon__Collateral_Type__r.Name) &lt; 0){
             return displayMessage('Selected collateral does not have a valid type associated ', 'ERROR');
         }
    } else {
        return displayMessage('Selected Collateral Does Not Have a Valid Type Associated . ', 'ERROR');
    }
    newAppCollCloneModel.updateRow(newAppCollCloneRow,'genesis__justForCheck__c','true');

    // skuid.$C('commonEditor').render();

    // if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Aircraft') {
    //     skuid.$C('aircraftEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Mobile Home' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Equipment') {
    //     skuid.$C('mobileHomeEquEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Pleasure Boat' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Receivables') {
    //     skuid.$C('pleaseureBotReceivablesEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Ship') {
    //     skuid.$C('shipEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Trailer') {
    //     skuid.$C('trailerEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other Titled') {
    //     skuid.$C('otherTitledEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Note/Instrument') {
    //     skuid.$C('noteinstrumentEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Securities') {
    //     skuid.$C('securitiesEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Savings/CD\'s') {
    //     skuid.$C('savingcdEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Letter of Credit') {
    //     skuid.$C('letterofcreditEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Receipts/Bills') {
    //     skuid.$C('receiptbillsEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Life Insurance') {
    //     skuid.$C('lifeinsuranceEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Government Contracts') {
    //     skuid.$C('govtContractEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'All Real Estate Types' || newCollateralRow.clcommon__Collateral_Type__r.Name == '1-4 Family' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'All Real Estate Types' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Construction' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Multi-Family' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Lot' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Land' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Farm Land' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Office' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Warehouse'  ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Retail'  ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Oil and Gas' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other RE' ) {
    //     skuid.$C('mixedReEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other Possessory') {
    //     skuid.$C('otherprocesseryEditor').render();
    // }

    currentStep.navigate('step3');

}else{
    if (!newCollateralRow.clcommon__Collateral_Type__c) {
        return displayMessage('Select a Collateral Type ', 'ERROR');

    }
    if(newCollateralRow.clcommon__Collateral_Type__c &amp;&amp; newCollateralRow.clcommon__Collateral_Type__r.Name){
         if(valid_collaterals.indexOf(newCollateralRow.clcommon__Collateral_Type__r.Name) &lt; 0){
             return displayMessage('Selected Collateral Type Is Not Supported ', 'ERROR');
         }
    }else{
        return displayMessage('Selected Collateral Type Is Not Supported . ', 'ERROR');
    }

    // skuid.$C('commonEditor').render();

    // if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Aircraft') {
    //     skuid.$C('aircraftEditor').render();
    // }
    // else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Mobile Home' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Equipment') {
    //     skuid.$C('mobileHomeEquEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Pleasure Boat' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Receivables') {
    //     skuid.$C('pleaseureBotReceivablesEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Ship') {
    //     skuid.$C('shipEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Trailer') {
    //     skuid.$C('trailerEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other Titled') {
    //     skuid.$C('otherTitledEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Note/Instrument') {
    //     skuid.$C('noteinstrumentEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Securities') {
    //     skuid.$C('securitiesEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Savings/CD\'s') {
    //     skuid.$C('savingcdEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Letter of Credit') {
    //     skuid.$C('letterofcreditEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Receipts/Bills') {
    //     skuid.$C('receiptbillsEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Life Insurance') {
    //     skuid.$C('lifeinsuranceEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Government Contracts') {
    //     skuid.$C('govtContractEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'All Real Estate Types' || newCollateralRow.clcommon__Collateral_Type__r.Name == '1-4 Family' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'All Real Estate Types' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Construction' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Multi-Family' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Lot' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Land' || newCollateralRow.clcommon__Collateral_Type__r.Name == 'Farm Land' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Office' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Warehouse'  ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Retail'  ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Oil and Gas' ||  newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other RE' ) {
    //     skuid.$C('mixedReEditor').render();
    // } else if(newCollateralRow.clcommon__Collateral_Type__r.Name == 'Other Possessory') {
    //     skuid.$C('otherprocesseryEditor').render();
    // }

    currentStep.navigate('step3');

}









</jsitem>
      <jsitem location="inlinesnippet" name="step2PrevButton" cachelocation="false">/**
*  Purpose: Used for refreshing the error panel when user move back to  previous step in step 3
*  Where: step 3 back button
*
* @name  step2PrevButton.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/


//params will contail all the info about the context of call like which record data calles it,what condition,etc
var params = arguments[0],
    $ = skuid.$;

//fetch the wizard object
var wizard = $('.nx-wizard').data('object');
//fetch wizard current step
var currentStep = wizard.steps[wizard.currentstep];

var editor = $('#PanelForAll ').data('object').editor;
editor.clearMessages();
//navigate to step 1 in wizard
currentStep.navigate('step1');</jsitem>
      <jsitem location="inlinesnippet" name="ApplicationCollateralUpdate" cachelocation="false">/**
*  Purpose: Used for updating application and collateral junction object applicationCollateral with appId and collateralId and pledge amount
*  Where: step 4 next button
*
* @name  applicationCollateral.js
* @author  Ashish Kumar Singh
* @version 1.0
* @since   06-18-2016
*/



var params = arguments[0],
    $ = skuid.$;

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];
newAppCollModel.cancel();

//get filterable off id
var appCollCondition = newAppCollModel.getConditionByName('genesis__Application__c_fil');

//setting condition value
newAppCollModel.setCondition(appCollCondition, skuid.page.params.id);

newAppCollModel.activateCondition(appCollCondition);

//updating model
newAppCollModel.updateData();</jsitem>
      <jsitem location="inlinesnippet" name="CloseCollateralDialog" cachelocation="false">var params = arguments[0],
    $ = skuid.$;

closeTopLevelDialogAndRefresh({divIds: ['deal-dashboard-iframe,collateral-tab','deal-dashboard-iframe,document-iframe']});</jsitem>
      <jsitem location="inlinesnippet" name="buttonHighlight" cachelocation="false">var params = arguments[0],
    $ = skuid.$;
$('#newcollateralid').addClass('selected-btn');
$('#existingCollateralId').removeClass('selected-btn');</jsitem>
      <jsitem location="inlinesnippet" name="saveApplicationColl" cachelocation="false">var params = arguments[0],
    $ = skuid.$;

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var ApplicationCollateralNewModel = skuid.model.getModel('ApplicationCollateralNew');
var ApplicationCollateralNewRow = ApplicationCollateralNewModel.data[0];

var newAppModel = skuid.model.getModel('Application');
var newAppRow = newAppModel.data[0];

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

var orgParamModel = skuid.model.getModel('PledgeCollaterals_OrgParams');
var orgParamRow = orgParamModel.data[0];
var useAppraisalMgmt = orgParamRow.genesis__Use_Appraisal_Management__c;

var isNewCollateral = newCollateralCloneRow.NewCollateral;
var isMulticurrency = skuid.utils.isMultiCurrencyOrganization;

if(useAppraisalMgmt === true) {

    if(isNewCollateral === true) {

        if(isMulticurrency) {
            ApplicationCollateralNewModel.updateRow(ApplicationCollateralNewRow ,
                                            { 'genesis__Application__c' : skuid.page.params.id ,
                                              'genesis__Collateral__c' : newCollateralRow.Id,
                                              'CurrencyIsoCode':newAppRow.CurrencyIsoCode,
                                              'genesis__Pledge_Amount__c' : 0

                                            });
        } else {
            ApplicationCollateralNewModel.updateRow(ApplicationCollateralNewRow ,
                                            { 'genesis__Application__c' : skuid.page.params.id ,
                                              'genesis__Collateral__c' : newCollateralRow.Id,
                                              'genesis__Pledge_Amount__c' : 0

                                            });
        }



        var dfd = new $.Deferred();

        $.when(ApplicationCollateralNewModel.save())
            .done(function(){
               dfd.resolve();
            })
            .fail(function(){
               dfd.reject();
            });

        return dfd.promise();

    } else {

        var collValuationExistSnippet = skuid.snippet.getSnippet('collateralValuationExists');
        var res = collValuationExistSnippet();

        if(res === true) {
            /* if collateral valuation exist then pledge amount edit panel will be displayed . check if undefined and set to 0*/
            if(newAppCollRow.genesis__Pledge_Amount__c === undefined || newAppCollRow.genesis__Pledge_Amount__c &lt; 0 ) {
                newAppCollModel.updateRow(newAppCollRow ,
                                            { 'genesis__Pledge_Amount__c' : 0
                                            });
            }
        } else {
            /* if collateral valuation dosen't exist -- send for appraisal and set pledge amount to 0 */
            newAppCollModel.updateRow(newAppCollRow ,
                                            { 'genesis__Pledge_Amount__c' : 0
                                            });
        }
        //if(newAppCollRow.clicked)
        newAppCollModel.updateRow(newAppCollRow ,
                                            { 'clicked' : true
                                            });

        var dfd = new $.Deferred();
        $.when(newAppCollModel.save())
            .done(function(){
               dfd.resolve();
            })
            .fail(function(){
               dfd.reject();
            });

        return dfd.promise();


    }

} else {
    /* If not using appraisal management then flow is as before */

    if(isNewCollateral === true) {

        if(isMulticurrency) {
            ApplicationCollateralNewModel.updateRow(ApplicationCollateralNewRow ,
                                            { 'genesis__Application__c' : skuid.page.params.id ,
                                              'genesis__Collateral__c' : newCollateralRow.Id,
                                              'CurrencyIsoCode':newAppRow.CurrencyIsoCode

                                            });
        } else {
            ApplicationCollateralNewModel.updateRow(ApplicationCollateralNewRow ,
                                            { 'genesis__Application__c' : skuid.page.params.id ,
                                              'genesis__Collateral__c' : newCollateralRow.Id

                                            });
        }



        var dfd = new $.Deferred();

        $.when(ApplicationCollateralNewModel.save())
            .done(function(){
               dfd.resolve();
            })
            .fail(function(){
               dfd.reject();
            });

        return dfd.promise();

    } else {
        var dfd = new $.Deferred();

        $.when(newAppCollModel.save())
            .done(function(){
               dfd.resolve();
            })
            .fail(function(){
               dfd.reject();
            });

        return dfd.promise();


    }

}





</jsitem>
      <jsitem location="inlinesnippet" name="set-create-new-appraisal" cachelocation="false">var params = arguments[0],
$ = skuid.$;

$('#set-yes-create-appraisal').addClass('selected-btn');
$('#set-no-create-appraisal').removeClass('selected-btn');

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

newCollateralModel.updateRow(newCollateralRow ,
                    { create_appraisal_request : true  });

</jsitem>
      <jsitem location="inlinesnippet" name="unset-create-new-appraisal" cachelocation="false">var params = arguments[0],
$ = skuid.$;

$('#set-no-create-appraisal').addClass('selected-btn');
$('#set-yes-create-appraisal').removeClass('selected-btn');

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

newCollateralModel.updateRow(newCollateralRow ,
                    { create_appraisal_request : false  });

</jsitem>
      <jsitem location="inlinesnippet" name="isAppraisalRequestExist" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var orgParamModel = skuid.model.getModel('PledgeCollaterals_OrgParams');
var orgParamRow = orgParamModel.data[0];
var useAppraisalMgmt = orgParamRow.genesis__Use_Appraisal_Management__c;


/* if new */
var result = sforce.apex.execute('genesis.AppraisalManagementWebService', 'isAppraisalIdExistForCollateral',
                                            { collateralId: newCollateralRow.Id

                                            });
if(result !== null &amp;&amp; result != null &amp;&amp; result != undefined &amp;&amp; result != '') {
    /* set and activate condition*/
    var appReq = skuid.model.getModel('PledgeCollaterals_AppraisalRequestFetched');

    var appReqCondition = appReq.getConditionByName('appReqFetchedId');
    var resp = result.toString();
    var res = JSON.stringify(result).replace('/"["/g', '').replace(/"]"/g, '');
    appReq.setCondition(appReqCondition,resp);
    skuid.model.updateData([appReq],function(){

    });
    return true;

} else {
return false;
}





















</jsitem>
      <jsitem location="inlinesnippet" name="IsAppraisalRequestNotExist" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var newCollateralModel = skuid.model.getModel('Collateral');
var newCollateralRow = newCollateralModel.data[0];

var orgParamModel = skuid.model.getModel('PledgeCollaterals_OrgParams');
var orgParamRow = orgParamModel.data[0];
var useAppraisalMgmt = orgParamRow.genesis__Use_Appraisal_Management__c;


/* if new */
var result = sforce.apex.execute('genesis.AppraisalManagementWebService', 'isAppraisalIdExistForCollateral',
                                            { collateralId: newCollateralRow.Id

                                            });
if(result === null || result == null || result == undefined || result == '') {
    return true;
} else{
    return false;
}





















</jsitem>
      <jsitem location="inlinesnippet" name="checkAndCreateAppraisalRequest" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var newCollateralModel = skuid.model.getModel('Collateral'); /* This fetches the newly created collateral for appraisal request */
var newCollateralRow = newCollateralModel.data[0];

var appColAssocn = skuid.model.getModel('ApplicationCollateralNew');
var appColAssocnRow = appColAssocn.data[0];

var newAppCollModel = skuid.model.getModel('ApplicationCollateral');
var newAppCollRow = newAppCollModel.data[0];

var newCollateralCloneModel = skuid.model.getModel('CollateralClone');
var newCollateralCloneRow = newCollateralCloneModel.data[0];

var isNewCollateral = newCollateralCloneRow.NewCollateral;

// Handle error messages
var displayMessage = function (message, severity) {
    editor = $('#error-panel-pledge-collateral-id').data('object').editor;
    editor.handleMessages([
        {
            message: message,
            severity: severity.toUpperCase()
        }
    ]);
};

function throwError(err) {
    /* call error handler */
    return displayMessage(err,'ERROR');
}

if(newCollateralRow.create_appraisal_request !== undefined &amp;&amp; newCollateralRow.create_appraisal_request !== null) {
    if(newCollateralRow.create_appraisal_request === true) {
        /* create appraisal request for the collateral*/

        var appReqModel = skuid.model.getModel('PledgeCollaterals_AppraisalRequest');
        var appReqRow = appReqModel.data[0];


        if(appReqRow.genesis__Due_Date__c === undefined) {
            throwError('Due date is required for creating appraisal request');
            return false;
        }

        var dateParts = appReqRow.genesis__Due_Date__c.split('-');
        var dueDate = dateParts[1] + '/' + dateParts[2] + '/' + dateParts[0];

        if(isNewCollateral === true) {

            var result = sforce.apex.execute('genesis.AppraisalManagementWebService', 'createAppraisalRequest',
                                            { applicationCollateralId: appColAssocnRow.Id,
                                              appraisalDueDate:dueDate

                                            });
            if(result != 'SUCCESS') {
                var err = 'Unable to create appraisal request: '+result;
                alert(err);
            } else {
                alert(result);
            }

        } else {
            var result = sforce.apex.execute('genesis.AppraisalManagementWebService', 'createAppraisalRequest',
                                            { applicationCollateralId: newAppCollRow.Id,
                                              appraisalDueDate:dueDate

                                            });
            if(result != 'SUCCESS') {
                var err = 'Unable to create appraisal request: '+result;
                alert(err);
            } else {
                alert(result);
            }
        }

    } else {
        /* Do not create appraisal request for the collateral*/
    }
}


    </jsitem>
      <jsitem location="inlinesnippet" name="collateralValuationDoseNotExists" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var collValModel = skuid.model.getModel('PledgeCollaterals_CollateralValuation');
var colValRow = collValModel.data[0];


if(colValRow !== undefined) {
    return false;
}

return true;</jsitem>
      <jsitem location="inlinesnippet" name="updateRemainingValue" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var collValModel = skuid.model.getModel('PledgeCollaterals_CollateralValuation');
var collValRow = collValModel.getFirstRow();

var allAppForCollateralModel = skuid.model.getModel('PledgeCollaterals_ApplicationsForCollateral');
var allAppForCollateralList = allAppForCollateralModel.data;

var total_pladge_amt = 0;

if(allAppForCollateralList !== undefined) {
    /* sum all pledge amount across all application for this collateral */
    $.each(allAppForCollateralList, function(fieldId,appColRow) {
        $.each(appColRow,function(fieldName,val) {
            if ((fieldName != 'attributes') &amp;&amp; (fieldName === 'genesis__Pledge_Amount__c')) {
                if(val !== undefined &amp;&amp; val !== null) {
                    total_pladge_amt = total_pladge_amt + val;
                    console.log('Am I here?1');

                }

            }
        });
    });
    if(collValRow !== undefined) {
        /* update remianing value = Appraisaed_Value -Sum(Pledge_Amount across other loan application) */
        collValModel.updateRow(collValRow,{
             RemainingValue: collValRow.clcommon__Appraised_Value__c - total_pladge_amt
        });
        console.log('Am I here?2');
    }
}
console.log('Am I here?3');
</jsitem>
      <jsitem location="inlinesnippet" name="validatePledgeAmount" cachelocation="false">var params = arguments[0],
    $ = skuid.$;

// Handle error messages
var displayMessage = function (message, severity) {
    var editor = $('#error-panel-pledge-collateral-id').data('object').editor;
    editor.handleMessages([
        {
            message: message,
            severity: severity.toUpperCase()
        }
    ]);

    return false;
};


var appColRowForPledgeAmt = skuid.model.getModel('ApplicationCollateral').getFirstRow();
var appColRowForRemainingVal = skuid.model.getModel('PledgeCollaterals_CollateralValuation').getFirstRow();

var appColRowForPreviousPledgeAmt = skuid.model.getModel('PledgeCollaterals_ApplicationCollateralForPreviousPledgeAmount').getFirstRow();

var pledgeAmt;
var remainingAmt;
var previousPledgeAmt;

if(appColRowForPledgeAmt !== undefined) {
    pledgeAmt = appColRowForPledgeAmt.genesis__Pledge_Amount__c;

}

if(appColRowForPreviousPledgeAmt !== undefined) {
    previousPledgeAmt = appColRowForPreviousPledgeAmt.genesis__Pledge_Amount__c;
}
if(previousPledgeAmt === undefined) {
    previousPledgeAmt = 0;
}
console.log('Am I here?4');
if(appColRowForRemainingVal !== undefined) {
    remainingAmt = appColRowForRemainingVal.RemainingValue;
    if(isNaN(Number.parseFloat(pledgeAmt))) {
        return displayMessage('The collateral pledge amount should be a number ', 'ERROR');
    }else if(pledgeAmt &lt; 0) {
        return displayMessage('The collateral pledge amount cannot be less than 0 ', 'ERROR');
    } else if(pledgeAmt - previousPledgeAmt &gt; 0 &amp;&amp; pledgeAmt - previousPledgeAmt &gt; remainingAmt) {
        /* throw error message; return false */
        return displayMessage('The collateral pledge amount cannot exceed the available appraised value remaining for the collateral ', 'ERROR');
    } else {
        /* return true;*/
        console.log('Am I here?5');
        return true;
    }
}
console.log('Am I here?6');
return true;
</jsitem>
      <jsitem location="inlinesnippet" name="collateralValuationExists" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var collValModel = skuid.model.getModel('PledgeCollaterals_CollateralValuation');
var colValRow = collValModel.data[0];

if(colValRow !== undefined) {
    return true;
}

return false;</jsitem>
      <jsitem location="inlinesnippet" name="fetchData" cachelocation="false">var params = arguments[0],
    $ = skuid.$;

var newColOwner = skuid.model.getModel('CollateralOwner');
var newColOwnerRow = newColOwner.data[0];
newColOwner.cancel();

var collateralModel = skuid.model.getModel('Collateral');
var colRow = collateralModel.data[0];

//get filterable off id
var colOwnerCondition = newColOwner.getConditionByName('clcommon__Collateral__c__fil');

//setting condition value
newColOwner.setCondition(colOwnerCondition, colRow.Id);

newColOwner.activateCondition(colOwnerCondition);

//updating model
newColOwner.updateData();</jsitem>
      <jsitem location="inlinesnippet" name="ownershipValidation" cachelocation="false">var params = arguments[0],
$ = skuid.$;

var collOwner = skuid.model.getModel('CollateralOwner');

var collateral = skuid.model.getModel('Collateral');
var colRow = collateral.data[0];
var percentageSum = 0;
var percentExceeded = false;
var zeroOwnership = false;

$.each(collOwner.getRows(),function(i,row){
    if(row.clcommon__Collateral__c == colRow.Id){
        percentageSum = percentageSum + row.clcommon__Ownership__c ;
        if(row.clcommon__Ownership__c === 0){
          zeroOwnership = true;  
        }
    }
});
console.log('Test 1');

if(percentageSum &gt; 100){
    percentExceeded = true;
    collOwner.cancel();
    alert('Ownership percentage cannot exceed 100%!');
}
//console.log('Test 2');
 
 else if(zeroOwnership === true){
    collOwner.cancel();
    alert('Ownership percentage cannot be 0%!'); 
 }
 else
 collOwner.save();
 //console.log('Test 3');
 
 var dfd = new $.Deferred();

    $.when(collOwner.save())
        .done(function(){
           dfd.resolve();
        })
        .fail(function(){
           dfd.reject();
        });
        console.log('Test 4');

    return dfd.promise();
</jsitem>
      <jsitem location="inlinesnippet" name="highlightRow" cachelocation="false">var collateralClone = skuid.model.getModel('CollateralClone');
var collateralCloneRow = collateralClone.data[0];
if(collateralCloneRow.ExistingCollateral === true){
var parties = skuid.model.getModel('ApplicationParty');
var partyList = new Array();
$.each(parties.getRows(),function(i,row){
   if(row.clcommon__Account__c !== undefined){
       partyList.push(row.clcommon__Account__c);
   }
});

var field = arguments[0], 
value = skuid.utils.decodeHTML(arguments[1]); 
var externalOwner = false;

skuid.ui.fieldRenderers[field.metadata.displaytype][field.mode](field,value); 

if (!partyList.includes(value)){ 
        externalOwner = true;
        field.item.element.addClass("Highlighted-row");
    }

return externalOwner;
}</jsitem>
      <jsitem location="inlinesnippet" cachelocation="false" name="SaveSecAddressAsSecName">var colModel = skuid.model.getModel('Collateral');
var colRow = colModel.data[0];
var address = (((colRow.Unit_No__c === undefined || colRow.Unit_No__c === null || colRow.Unit_No__c.length &lt;= 0) ? '' : (colRow.Unit_No__c+' '))+((colRow.Street_No__c === undefined || colRow.Street_No__c === null || colRow.Street_No__c.length &lt;= 0) ? '' : (colRow.Street_No__c+' '))+((colRow.Street_Name__c === undefined || colRow.Street_Name__c === null || colRow.Street_Name__c.length &lt;= 0) ? '' : (colRow.Street_Name__c+' '))+((colRow.Street_Type__c === undefined || colRow.Street_Type__c === null || colRow.Street_Type__c.length &lt;= 0) ? '' : (colRow.Street_Type__c+' '))+((colRow.clcommon__City__c === undefined || colRow.clcommon__City__c === null || colRow.clcommon__City__c.length &lt;= 0) ? '' : (colRow.clcommon__City__c+' '))+((colRow.clcommon__State__c === undefined || colRow.clcommon__State__c === null || colRow.clcommon__State__c.length &lt;= 0) ? '' : (colRow.clcommon__State__c+' '))+((colRow.Country__c === undefined || colRow.Country__c === null || colRow.Country__c.length &lt;= 0) ? '' : (colRow.Country__c+' '))+((colRow.clcommon__Postal_Code__c === undefined || colRow.clcommon__Postal_Code__c === null || colRow.clcommon__Postal_Code__c.length &lt;= 0) ? '' : (colRow.clcommon__Postal_Code__c+' ')));
colModel.updateRow(colRow,'clcommon__Collateral_Name__c',address);
//skuid.model.save([
//   colModel
//]) ;</jsitem>
    </javascript>
    <css>
      <cssitem location="staticresource" name="CLSStyleSheetPack" cachelocation="false" url="" namespace="genesisExtn" filepath="cls-picker.css"/>
      <cssitem location="staticresource" name="CLSStyleSheetPack" cachelocation="false" url="" namespace="genesisExtn" filepath="customcss.css" content_type="application/zip"/>
      <cssitem location="inline" name="alignments" cachelocation="false">.selected-btn {
    background: #16325C !important; /* Or some other color */
}

.show{
    visibility: hidden;
}

.hide{
    visibility: visible;
}</cssitem>
      <cssitem location="inline" name="show" cachelocation="false"/>
      <cssitem location="inline" name="hide" cachelocation="false">h2 {
    visibility: hidden;
}</cssitem>
      <cssitem location="inline" name="customcss" cachelocation="false">.selected-btn {
    background: #16325C!important; /* Or some other color */
}
.clorequired{

}
.progress-indicator {
    margin-bottom: 20px;
}
.progress-indicator .progress-chunk .progress-text {
    line-height: 32px;
    font-size: 12px;
}
.progress-indicator div {
    padding: 0px;
}
.progress-text {
    padding: 0px;
}
.text-content {
    font-size: 12px;
    line-height: 12px;
}
.progress-triangle-outline {
    /* display: none; */
    border-left: 25px solid #ffffff;
}
.progress-indicator .progress-chunk.current .progress-triangle {
    border-left: 20px solid #1cbdd4;
}
.progress-indicator .progress-chunk.done .progress-triangle {
    border-left: 20px solid #2d5074;
}
.progress-indicator .progress-chunk .progress-triangle {
    border-left: 20px solid #dddddd;
}
.progress-indicator .progress-chunk.current .progress-triangle-outline {
    border-left: 22px solid #ffffff;
    transform: translate(100%, -50%);
}
.progress-indicator .progress-chunk.done .progress-triangle-outline {
    border-left: 22px solid #ffffff;
    transform: translate(100%, -50%);
}
.progress-indicator .progress-chunk .progress-triangle-outline {
    border-left: 22px solid #ffffff;
    transform: translate(100%, -50%);
}
.nx-pagetitle-subtitle {
    font-size: 12px;
    color: #121212;
}
.nx-page {
    overflow: hidden;
}
.ui-dialog-title {
    font-size: 14px;
}
.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-front div {
    overflow: none;
}

table.nx-skootable-data tbody tr.Highlighted-row td {    
   background-color: LightCoral;
}</cssitem>
      <cssitem location="inline" name="cyclotroncss" cachelocation="false">
/*#submit-new-appraisal{*/
/*    height: 37px;*/
/*    width: 58px;*/
/*    padding-top: 29px;*/
/*}*/

#submit-new-appraisal img {
    display: block;
    width: 73%;
    cursor:default;
    margin-top: -53px;
    margin-left: 72px;
}

.image-button.new-house:after {
    content: 'Do you want to request a new appraisal for this collateral?';
    margin-top: -42px;
    /*margin-left: -127px;*/
    margin-left: 9px;
}

#new-house-wrapper {
    text-align:center;
}

#new-appraisal-btnset {
    /*margin-left: 72px;*/
    text-align: center;
}

#new-appraisal-btnset .nx-header-buttonset.sk-buttonset-left{
    /*margin-left: -24px;*/
}

#new-appraisal-btnset .ui-button-text {
    /*width: 120px;*/
}

#appraisal-req-due-date-id {
    text-align:center;
    margin-right: 30px;
}

#appraisal-req-due-date-id .nx-basicfieldeditor-item-label{
   width: 22%;
}


#new-collateral-pledge-amt-wpr .nx-pagetitle-subtitle {
    top:0;
    position: unset;
    font-family: Lato
}

#new-collateral-pledge-amt-wpr .nx-pagetitle.nx-editor .nx-template{
    font-style: italic;
    font-weight: bold;
    font-size: 13px;
}

#existing-collateral-pledge-amt-wpr .nx-pagetitle.nx-editor .nx-template{
    font-style: italic;
    font-weight: bold;
    font-size: 13px;
}

#existing-collateral-pledge-amt-wpr .nx-pagetitle-subtitle {
    top:0;
    position: unset;
    font-family: Lato
}


#new-collateral-pledge-amt-wpr .nx-pagetitle-subtitle {
    line-height: 14pt;
}

#existing-coll-pledge-inner-wrapper .nx-pagetitle-subtitle {
    line-height: 14pt;
}


#sk-tiO8J-2005 .nx-pagetitle-subtitle {
    position: relative;
    top:0;
    padding-left: 6px;
}

div#collateralWizard .sk-action-field {
    display: none;
}
</cssitem>
    </css>
    <actionsequences uniqueid="sk-3KP6OT-3984"/>
  </resources>
  <styles>
    <styleitem type="background" bgtype="none"/>
  </styles>
</skuidpage>